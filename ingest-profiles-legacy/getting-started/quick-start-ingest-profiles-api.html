---
title: 'Démarrage rapide: Ingérer l'API des profils'
description: 'Dans cette rubrique, vous apprendrez à utiliser l'API Ingest Profiles pour gérer les profils d'ingestion et de transcodage pour votre compte. Ce tutoriel vous guidera à travers ces opérations. <aside class="bcls-aside bcls-aside--information">Notez que ce guide est destiné aux <strong>système d'ingestion hérité</strong> ; la plupart des clients sont sur le <strong><a href="/ingest-profiles/">Système de livraison dynamique</a></strong></aside>'
parent: Code Samples 
grandparent: Ingest Profiles API Legacy
layout: staging
---
 <h1>{{ page.title }}</h1>
<article class="bcls-article">
  <summary>{{ page.description }}</summary>
    <section class="bcls-section">
    <h2 id="intro">introduction</h2>
    
    <p>L'API Ingest Profiles vous permet de :</p>
    
    <ul>
      <li>
      <p>Obtenez les profils pour votre compte</p>
      </li>
      <li>
      <p>Créer de nouveaux profils</p>
      </li>
      <li>
      <p>Mettre à jour les profils</p>
      </li>
      <li>
      <p>Supprimer des profils</p>
      </li>
      <li>
      <p>Définir ou mettre à jour le profil par défaut de votre compte</p>
      </li>
    </ul>
    </section>
    
    <section class="bcls-section">
    <h2 id="restful">Une API reposante</h2>
    
    <p>L'API Ingest Profiles est une API RESTful. Il accepte les requêtes HTTPS et renvoie une réponse JSON.</p>
    
    <p>Cela signifie que vous pouvez utiliser l'API avec n'importe quel langage de votre choix - Ruby, Java, PHP, Python, JavaScript (via AJAX ou nodejs), etc. Tout ce que vous avez à faire est de faire des requêtes HTTPS et de gérer une réponse JSON.</p>
    
    <aside class="bcls-aside bcls-aside--warning">Si un utilisateur extrait par programme un profil dans le but de mettre à jour ce profil à l'aide du contenu récupéré, l'utilisateur devra nettoyer le profil, en supprimant des éléments tels que « id » pour les rendus, mais pas le profil, et « version » doit être entièrement supprimé .</aside>
    </section>
    
    <section class="bcls-section">
    <h2 id="baseURL">L'URL de base</h2>
    
    <p>L'URL de base de l'API Ingest Profiles est :</p>
    
    <pre class="line-numbers">
    <code class="language-http" translate="No">https://ingestion.api.brightcove.com/v1</code></pre>
    </section>
    
    <section class="bcls-section">
    <h2 id="authorization">Autorisation</h2>
    
    <p>Les appels d'API sont autorisés à l'aide de jetons d'accès OAuth2. Le jeton est transmis avec les requêtes dans un en-tête d'autorisation :</p>
    
    <pre class="line-numbers">
    <code class="language-bash" translate="No">Authorization: Bearer {access_token}</code></pre>
    
    <p>Les jetons d'accès sont de courte durée (5 min), vous devez donc en obtenir un à chaque fois que vous faites une demande</p>
    
    <p>Dans ces exercices, nous ferons des demandes via un <a href="/oauth/guides/getting-access-tokens.html#php">Procuration</a> qui récupérera un jeton d'accès, puis fera la demande.</p>
    </section>
    
    <section class="bcls-section">
    <h2 id="setupSection">Configuration pour les exercices</h2>
    
    <div id="setup" style="padding-left: 1.5em;max-width: 100%">
    <h3>Installer</h3>
    
    <p>Vous avez deux options :</p>
    
    <ul>
      <li>Réaliser les exercices sur un exemple de compte (recommandé)</li>
      <li>Utilisez votre propre compte</li>
    </ul>
    
    <p><button class="bcls-button" id="useSampleAccount">Utiliser un exemple de compte</button><button class="bcls-button" id="useMyAccount">Utiliser mon compte</button></p>
    
    <div id="basicInfo" style="display:none;">
    <table class="bcls-table">
      <tbody class="bcls-table__body">
        <tr>
          <td>Compte Video Cloud (ID d'éditeur) :</td>
          <td><input id="account_id" type="text" size="30" /></td>
        </tr>
        <tr>
          <td class="align-top no-wrap">Identité du client:</td>
          <td>
          <p><input id="client_id" type="text" size="40" value="" /></p>
          </td>
        </tr>
        <tr>
          <td>Secret client :</td>
          <td>
          <p><input id="client_secret" type="text" size="40" value="" /></p>
          </td>
        </tr>
      </tbody>
    </table>
    
    <p><button class="bcls-button" id="setOptions">Définir les options du compte</button></p>
    
    <p>Voir <a href="/general/managing-api-authentication-credentials.html">Gestion des informations d'identification de l'API</a> pour plus d'informations sur l'obtention des informations d'identification du client.</p>
    </div>
    </div>
    </section>
    
    <section class="bcls-section">
    <h2 id="getAllProfilesSection">Obtenir tous les profils</h2>
    
    <h3>Obtenir les profils de compte</h3>
    
    <p>Pour obtenir tous les profils d'un compte, effectuez une demande GET au point de terminaison :</p>
    
    <pre class="line-numbers">
    <code class="language-http" translate="No">/accounts/{account_id}/profiles</code></pre>
    
    <p>Exemple:</p>
    
    <pre class="line-numbers">
    <code class="language-http" translate="No">https://ingestion.api.brightcove.com/v1/accounts/57838016001/profiles</code></pre>
    
    <h3>Exercice 1 : Obtenez tous les profils</h3>
    
    <p>Faites la requête GET suivante :</p>
    <textarea class="bcls-code" id="ex1request"></textarea>
    
    <p><button id="ex1button" class="bcls-button">Envoyer la demande</button></p>
    <textarea class="bcls-code" id="ex1response" style="height:12em;">La réponse apparaîtra ici</textarea></section>
    
    <section class="bcls-section">
    <h2 id="createProfilesSection">Créer un profil</h2>
    
    <h3>Création de profils</h3>
    
    <p>Pour créer un profil, envoyez une requête POST au point de terminaison :</p>
    
    <pre class="line-numbers">
    <code class="language-http" translate="No">/accounts/{account_id}/profiles</code></pre>
    
    <p>Exemple:</p>
    
    <pre class="line-numbers">
    <code class="language-http" translate="No">https://ingestion.api.brightcove.com/v1/accounts/57838016001/profiles</code></pre>
    
    <p>Le JSON du profil est inclus en tant que corps de la demande. Voir le <a href="/ingest-profiles-legacy/references/ingest-profiles-api-fields-reference-legacy-ingest.html">Référence de champ de profil</a> pour les champs de profil, de rendu et de package DRM</p>
    
    <h3>Exercice 2 : Créer un profil</h3>
    
    <p>Faites la requête POST suivante :</p>
    <textarea class="bcls-code" id="ex2request"></textarea><textarea class="bcls-code" id="ex2data" style="height:12em;"></textarea>
    
    <p><button id="ex2button" class="bcls-button">Envoyer la demande</button></p>
    
    <p class="slide-only">(La réponse apparaîtra sur la diapositive suivante)</p>
    
    <h3 class="slide-only">Exercice 2 Réponse</h3>
    <textarea class="bcls-code" id="ex2response" style="height:12em;">La réponse apparaîtra ici</textarea></section>
    
    <section class="bcls-section">
    <h2 id="getProfileByIdSection">Obtenir un profil unique</h2>
    
    <h3>Obtenir un profil par identifiant</h3>
    
    <p>Pour récupérer un profil par identifiant, effectuez une requête GET au point de terminaison :</p>
    
    <pre class="line-numbers">
    <code class="language-http" translate="No">/accounts/{account_id}/profiles/{profile_id}</code></pre>
    
    <p>Pour le <code translate="No">profile_id</code> , vous pouvez utiliser soit :</p>
    
    <ul>
      <li>nom (par exemple équilibré-haute définition)</li>
      <li>identifiant généré (par exemple 54de14cce4b0a6d2bf9cb08a)</li>
    </ul>
    
    <p>Exemples:</p>
    
    <pre class="line-numbers">
    <code class="language-http" translate="No">https://ingestion.api.brightcove.com/v1/accounts/57838016001/profiles/screencast
    https://ingestion.api.brightcove.com/v1/accounts/57838016001/profiles/54de14cce4b0a6d2bf9cb08a</code></pre>
    
    <h3>Exercice 3 : Obtenez un profil</h3>
    
    <p>Faites la demande GET suivante pour récupérer le profil que vous avez créé :</p>
    <textarea class="bcls-code" id="ex3request"></textarea>
    
    <p><button id="ex3button" class="bcls-button">Envoyer la demande</button></p>
    <textarea class="bcls-code" id="ex3response" style="height:12em;">La réponse apparaîtra ici</textarea></section>
    
    <section class="bcls-section">
    <h2 id="updateProfileSection">Mettre à jour un profil</h2>
    
    <h3>Mettre à jour un profil par identifiant</h3>
    
    <p>Pour mettre à jour un profil par identifiant, effectuez une demande PUT au point de terminaison :</p>
    
    <pre class="line-numbers">
    <code class="language-http" translate="No">/accounts/{account_id}/profiles/{profile_id}</code></pre>
    
    <p>Pour le <code translate="No">profile_id</code> , vous pouvez utiliser soit :</p>
    
    <ul>
      <li>nom (par exemple équilibré-haute définition)</li>
      <li>identifiant généré (par exemple 54de14cce4b0a6d2bf9cb08a)</li>
    </ul>
    
    <p>Exemple:</p>
    
    <pre class="line-numbers">
    <code class="language-http" translate="No">https://ingestion.api.brightcove.com/v1/accounts/57838016001/profiles/my-test-profile</code></pre>
    
    <p>Incluez les données de profil dans le corps de la demande comme vous l'avez fait lors de la création du profil. Les données du profil <strong>doit</strong> inclure le <code translate="No">id</code> pour le profil !</p>
    
    <h3>Exercice 4 : Mettre à jour le profil</h3>
    
    <p>Faites la demande PUT suivante pour mettre à jour le profil que vous avez créé (la description sera mise à jour) :</p>
    <textarea class="bcls-code" id="ex4request"></textarea><textarea class="bcls-code" id="ex4data" style="height:12em;"></textarea>
    
    <p><button id="ex4button" class="bcls-button">Envoyer la demande</button></p>
    
    <p class="slide-only">(La réponse apparaîtra sur la diapositive suivante)</p>
    
    <h3 class="slide-only">Exercice 4 Réponse</h3>
    <textarea class="bcls-code" id="ex4response" style="height:12em;">La réponse apparaîtra ici</textarea></section>
    
    <section class="bcls-section">
    <h2 id="deleteProfileSection">Supprimer un profil</h2>
    
    <h3>Supprimer un profil par identifiant</h3>
    
    <p>Pour supprimer un profil par identifiant, effectuez une demande DELETE au point de terminaison :</p>
    
    <pre class="line-numbers">
    <code class="language-http" translate="No">/accounts/{account_id}/profiles/{profile_id}</code></pre>
    
    <p>Pour le <code translate="No">profile_id</code> , vous pouvez utiliser soit :</p>
    
    <ul>
      <li>nom (par exemple équilibré-haute définition)</li>
      <li>identifiant généré (par exemple 54de14cce4b0a6d2bf9cb08a)</li>
    </ul>
    
    <p>Exemple:</p>
    
    <pre class="line-numbers">
    <code class="language-http" translate="No">https://ingestion.api.brightcove.com/v1/accounts/57838016001/profiles/my-test-profile</code></pre>
    
    <h3>Exercice 5 : Supprimer le profil</h3>
    
    <p>Faites la demande DELETE suivante pour mettre à jour le profil que vous avez créé (ne peut pas être annulé !) :</p>
    <textarea class="bcls-code" id="ex5request"></textarea>
    
    <p><button id="ex5button" class="bcls-button">Envoyer la demande</button></p>
    <textarea class="bcls-code" id="ex5response" style="height:12em;">La réponse apparaîtra ici</textarea></section>
    
    <section class="bcls-section">
    <h2 id="getDefaultProfileSection">Obtenir le profil par défaut</h2>
    
    <h3>Obtenir le profil par défaut</h3>
    
    <p>Pour obtenir le profil par défaut du compte, envoyez une requête GET au point de terminaison :</p>
    
    <pre class="line-numbers">
    <code class="language-http" translate="No">/accounts/account_id/configuration</code></pre>
    
    <p>Exemple:</p>
    
    <pre class="line-numbers">
    <code class="language-http" translate="No">https://ingestion.api.brightcove.com/v1/accounts/57838016001/configuration
                        </code></pre>
    
    <h3>Exercice 6 : Obtenir le profil par défaut</h3>
    
    <p>Effectuez la requête GET suivante pour obtenir le profil par défaut du compte :</p>
    <textarea class="bcls-code" id="ex6request"></textarea>
    
    <p><button id="ex6button" class="bcls-button">Envoyer la demande</button></p>
    <textarea class="bcls-code" id="ex6response" style="height:12em;">La réponse apparaîtra ici</textarea></section>
    
    <section class="bcls-section">
    <h2 id="setDefaultProfileSection">Définition du profil par défaut</h2>
    
    <h3>Définir le profil par défaut</h3>
    
    <p>Pour définir le profil par défaut du compte, envoyez une requête POST au point de terminaison :</p>
    
    <pre class="line-numbers">
    <code class="language-http" translate="No">/accounts/account_id/configuration</code></pre>
    
    <p>Inclure ce JSON comme corps de la requête</p>
    
    <pre class="line-numbers">
    <code class="language-json" translate="No">{
      "account_id": {account_id},
      "default_profile_id": {default_profile_id}
    }</code></pre>
    
    <p>Comme pour les autres opérations, vous pouvez utiliser le nom ou l'identifiant du <code translate="No">profile_id</code>.</p>
    
    <ul>
      <li>nom (par exemple équilibré-haute définition)</li>
      <li>identifiant généré (par exemple 54de14cce4b0a6d2bf9cb08a)</li>
    </ul>
    
    <p>Exemple:</p>
    
    <pre class="line-numbers">
    <code class="language-http" translate="No">https://ingestion.api.brightcove.com/v1/accounts/57838016001/configuration
                        </code></pre>
    
    <h3>Exercice 7 : Définir le profil par défaut</h3>
    
    <p>Faites la requête POST suivante pour définir le profil par défaut (notez que cela échouera si le compte a déjà un profil par défaut - nous mettrons à jour le profil par défaut dans le prochain exercice) :</p>
    <textarea class="bcls-code" id="ex7request"></textarea><textarea class="bcls-code" id="ex7data" style="height:12em;"></textarea>
    
    <p><button id="ex7button" class="bcls-button">Envoyer la demande</button></p>
    
    <p class="slide-only">(La réponse apparaîtra sur la diapositive suivante)</p>
    
    <h3 class="slide-only">Exercice 7 Réponse</h3>
    <textarea class="bcls-code" id="ex7response" style="height:12em;">La réponse apparaîtra ici</textarea></section>
    
    <section class="bcls-section">
    <h2 id="updateDefaultProfileSection">Mise à jour du profil par défaut</h2>
    
    <h3>Mettre à jour le profil par défaut</h3>
    
    <p>Pour mettre à jour le profil par défaut du compte, envoyez une requête PUT au point de terminaison :</p>
    
    <pre class="line-numbers">
    <code class="language-http" translate="No">/accounts/account_id/configuration</code></pre>
    
    <p>Inclure ce JSON comme corps de la requête</p>
    
    <pre class="line-numbers">
    <code class="language-json" translate="No">{
      "id": {configuration_id},
      "account_id": {account_id},
      "default_profile_id": {default_profile_id}
    }</code></pre>
    
    <p>L'ID de configuration est renvoyé lorsque vous obtenez le profil par défaut. S'il n'y a pas de profil par défaut, voir <a href="#setDefaultProfileSection">Définition du profil par défaut</a>. Comme pour les autres opérations, vous pouvez utiliser le nom ou l'identifiant du <code translate="No">profile_id</code>.</p>
    
    <ul>
      <li>nom (par exemple haute résolution)</li>
      <li>identifiant généré (par exemple 54de14cce4b0a6d2bf9cb08a)</li>
    </ul>
    
    <p>Exemple:</p>
    
    <pre class="line-numbers">
    <code class="language-http" translate="No">https://ingestion.api.brightcove.com/v1/accounts/57838016001/configuration
                        </code></pre>
    
    <h3>Exercice 8 : Mettre à jour le profil par défaut</h3>
    
    <p>Effectuez la demande PUT suivante pour mettre à jour le profil par défaut du compte :</p>
    <textarea class="bcls-code" id="ex8request"></textarea><textarea class="bcls-code" id="ex8data" style="height:12em;"></textarea>
    
    <p><button id="ex8button" class="bcls-button">Envoyer la demande</button></p>
    
    <p class="slide-only">(La réponse apparaîtra sur la diapositive suivante)</p>
    
    <h3 class="slide-only">Exercice 8 Réponse</h3>
    <textarea class="bcls-code" id="ex8response" style="height:12em;">La réponse apparaîtra ici</textarea></section>
    </article>
    <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.2.3/jquery.min.js"></script><script src="//learning-services-media.brightcove.com/doc-assets/video-cloud-apis/ingest-profiles-api/getting-started/quick-start/quick-start.js"></script>