---
title: 'Démarrage rapide: Dynamic Ingest API'
description: "Ce démarrage rapide vous guidera tout au long de l'ajout d'une vidéo à Video Cloud en utilisant le <span>Dynamic Ingest API</span> via CURL."
parent: Getting Started 
grandparent: Dynamic Ingest API
---
 <h1>{{ page.title }}</h1>
<article class="bcls-article">
  <summary>{{ page.description }}</summary>
    <section class="bcls-section">
    <h2 id="Introduction">introduction</h2>

    <p>Vous pouvez faire plusieurs choses avec Dynamic Ingest API, mais sa fonction principale est d'ajouter des vidéos à Video Cloud. Ce démarrage rapide fournit un didacticiel simple pour vous guider tout au long de l'ingestion de votre première vidéo à l'aide de l'API.</p>

    <p>Ce didacticiel utilise l'outil de ligne de commande populaire appelé CURL pour effectuer des requêtes HTTP. Si vous n'êtes pas familier avec CURL, consultez <a href="https://general.support.brightcove.com/developer/concepts-set-curl.html">Configurer CURL</a>. Notez que CURL est installé par défaut et sur les systèmes Mac et Linux. Sous Windows, vous devrez l'installer - les instructions se trouvent dans le guide Configurer CURL.</p>
    </section>

    <section class="bcls-section">
    <h2 id="steps">Pas</h2>

    <h3>Obtenir les informations d'identification du client</h3>

    <p>Il s'agit d'une étape unique pour créer des informations d'identification client pour les demandes d'API. Si vous disposez déjà des informations d'identification client nécessaires, vous pouvez ignorer cette étape.</p>

    <ol class="bcls-tasklist">
      <li>
      <p>À la <a href="/general/managing-api-authentication-credentials.html">Gestion des informations d'identification de l'API</a> partie de l'Atelier.</p>
      </li>
      <li>Cliquez sur <strong>Enregistrer une nouvelle demande</strong></li>
      <li>
      <p>Sélectionnez le(s) compte(s) approprié(s) et sélectionnez <em>au moins</em> ces autorisations:</p>

      <ul>
        <li>Création d'acquisition dynamique</li>
        <li>Lecture de la configuration des profils d'ingestion</li>
        <li>Profils d'ingestion lus</li>
      </ul>
      </li>
      <li>
      <p>Copiez et enregistrez le <strong>identité du client</strong> et <strong>secret client</strong> qui sont créés (il n'y a aucun moyen d'obtenir à nouveau le secret client une fois que vous fermez la boîte de dialogue !).</p>
      </li>
    </ol>

    <h3>Obtenir un jeton OAuth</h3>

    <p>Les <code translate="No">client_id</code> et <code translate="No">client_secret</code> sont utilisés comme nom d'utilisateur et mot de passe pour obtenir un jeton (authentification de base), qui est utilisé pour authentifier les demandes ultérieures.</p>

    <ol class="bcls-tasklist">
      <li>Copiez le code ci-dessous dans un éditeur de texte et remplacez <code translate="No">CLIENT_ID</code> et <code translate="No">CLIENT_SECRET</code> avec vos propres identifiants client :

      <pre class="line-numbers">
    <code class="language-bash" translate="No">curl --request POST \
    --url https://oauth.brightcove.com/v4/access_token \
    --user <span class="bcls-input">CLIENT_ID</span>:<span class="bcls-input">CLIENT_SECRET</span> \
    --header 'content-type: application/x-www-form-urlencoded' \
    --data grant_type=client_credentials</code></pre>

      <p>Votre code ressemblera maintenant à quelque chose comme ceci:</p>

      <pre class="line-numbers">
    <code class="language-bash" translate="No">curl --request POST \
    --url https://oauth.brightcove.com/v4/access_token \
    --user 0072bebf-0616-442c-84de-7215bb176061:7M0vMete8vP_Dmb9o4a16iws4RQR74PO-JNDKkCOyXFkSIe_iRKdHiiNO6vuBWadn5xFw \
    --header 'content-type: application/x-www-form-urlencoded' \
    --data grant_type=client_credentials</code></pre>
      </li>
      <li>Copiez votre code modifié et collez-le dans le terminal (ou votre application de ligne de commande), appuyez sur Retour pour l'exécuter.</li>
      <li>La réponse devrait ressembler à ceci:
      <pre class="line-numbers">
    <code class="language-json" translate="No">{
      "access_token":"AMv4uy9puUMrSPtfOUo412Euy8gY1pcjv6RozlH9ALrHyekxY_u-83KWMECgigG9u_gSQoh_gpe8ChAQ1FHclNHgU4h_2qj-8ei19Ve-m4OJ2UOmJwJBZQht_6bIMJMZUZBIvIAGT-8av-uMOpqnnXVJ1qu2rPQeGraIjEkhTnXnGaa-RNUxisRkIoIktN1o9BFzrbLa1xstvPgVhdg78uVg8uDA8X0K9kfibxBfdIkDBzKJAViZZ3gQa56uit2r79GZ_t2KSUgLq1rOPsd0TflHwCAGtSaAHlvb44m-hUKFAOJa-FtXakQ72QcIXha5PhSjYTJZiUa4EbjxXpR6aLvPW4mGQcDzo8bQQ4Hnq8bsa_8l5eUjOm51WI96WhTPJCt4bBWVJKyLM8P7va_Ho6zJc2yOJHDamilRlyOS-DxN4U30m_2AxhHF3DKJO8fWl5srtpbZRPANOq5B6cpAkOiQafoXUv0ntP9nzRwyO-oXVvH4iLDTAArOTXPh-A7OD8QogWu9wb13vO48CvRPsGv9PfT4ZCxzUa3M2NXn8wontkSARzHVNqf6fh-iF6ifalPTw-Z9MhpPd-qwpcHbJfmu5EcJAR3K3QDYttjeRrmEvTBOgbQttapvI2h6rMQqgytiHXpxYgz3Hr1yKe1cuVI8z3haT5pb-FIfOfHKyr7vQ3RDXjdTTJZMYpOhKNjL0oEH2ev_bIGmbGnqUMcuAGhQgMiCVQUKwoLUGHTRG91ZWMCP7CfTEdcVc10jDSELcZ1SBig5_G42ymv1w3KauK6ZwE_Xmu4NrPZiPo-r3u_K08x8Rz8gS1b9mFtcPj6yux058WAW--HIoIQRFGeppiO3S6s1hzkU2jiKMGtTnB8X4MIJXLPq8LHcZO81appEzraHFUG5ewtKRTq5Ck6OFndlSmhT8KIKid806wI5b39eeoe-4c8Os23QuyWIQthG-YdcTSueNoqZ3-5e7HztoYbzNIKvtrdLpwgMAclD9fzs3oCclECAQaaLD3hWENE3n78_TzPt4OvQ4o8L17JTmozZYCq3VDnsp_M9Bb6az8mZfDX5_ALunsE65dv91aXFCjTJigVJ_r28k7kLVct-PVZ1XPSjdAyGoxttMeYpl24737aUZBqPAirHJK-griQlPBh04E0Ay5ip03gJvJxvGuzRE5r8hKD0lVQjfre9huiSjJX-xts4kbY",
      "token_type":"Bearer",
      "expires_in":300
    }</code></pre>
      </li>
      <li>Notez que le <code translate="No">access_token</code> expire dans 5 minutes, mais vous pouvez réexécuter le code pour en obtenir un nouveau chaque fois que vous en avez besoin. Vous saurez que vous en avez besoin d'un nouveau si les requêtes API dans les étapes suivantes renvoient un <code translate="No">UNAUTHORIZED</code> Erreur.</li>
    </ol>

    <h3>Créer une vidéo</h3>

    <p>Un appel au CMS API crée l'objet vidéo dans Video Cloud. Le corps de la demande stipule des métadonnées telles que <code translate="No">name</code> et <code translate="No">description</code>. Le seul champ obligatoire est le <code translate="No">name</code>.</p>

    <ol class="bcls-tasklist">
      <li>Copiez le code suivant dans un éditeur de texte et remplacez <code translate="No">ACCOUNT_ID</code> avec votre propre identifiant de compte Video Cloud, et <code translate="No">ACCESS_TOKEN</code> avec le jeton de la réponse à la demande dans les étapes précédentes.

      <pre class="line-numbers">
    <code class="language-bash" translate="No">curl --request POST \
    --url https://cms.api.brightcove.com/v1/accounts/<span class="bcls-input">ACCOUNT_ID</span>/videos/ \
    --header 'authorization: Bearer <span class="bcls-input">ACCESS_TOKEN</span>' \
    --header 'content-type: application/json' \
    --data '{"name": "My Video"}'</code></pre>
      </li>
      <li>La réponse JSON contiendra diverses métadonnées pour la vidéo, mais pour nos besoins, le champ important est en haut:
      <pre class="line-numbers">
    <code class="language-json" translate="No">{
      <span class="bcls-highlight">"id": "123456789001"</span>,
      …
    }</code></pre>

      <p>Vous utiliserez ceci <code translate="No">id</code> dans la demande d'ingestion ci-dessous pour indiquer à Video Cloud à quelle vidéo associer votre fichier source vidéo.</p>
      </li>
    </ol>

    <h3>Demande d'ingestion</h3>

    <p>Un appel au Dynamic Ingest donne l'emplacement du fichier à ingérer.</p>

    <ol class="bcls-tasklist">
      <li>Copiez le code suivant dans un éditeur de texte et remplacez <code translate="No">ACCOUNT_ID</code> avec votre propre identifiant de compte Video Cloud, <code translate="No">VIDEO_ID</code> avec le <code translate="No">id</code> valeur renvoyée lorsque vous avez créé la vidéo, et <code translate="No">ACCESS_TOKEN</code> avec le jeton de la réponse à la demande dans les étapes précédentes.

      <pre class="line-numbers">
    <code class="language-bash" translate="No">curl --request POST \
      --url https://ingest.api.brightcove.com/v1/accounts/<span class="bcls-input">ACCOUNT_ID</span>/videos/<span class="bcls-input">VIDEO_ID</span>/ingest-requests \
      --header 'authorization: Bearer <span class="bcls-input">ACCESS_TOKEN</span>' \
      --header 'content-type: application/json' \
      --data '{
        "master": {
          "url": "https://learning-services-media.brightcove.com/videos/mp4/Great_Blue_Heron.mp4"
        },
        "callbacks": ["https://solutions.brightcove.com/bcls/di-api/di-callback-app.php"]
      }'</code></pre>

      <p>Notez que la vidéo et l'application de rappel ici sont fournies par Brightcove Learning Services à des fins de test. Vous pouvez les remplacer par des chemins vers votre propre application de vidéo et/ou de rappel. Si vous n'avez pas besoin de recevoir de notifications concernant la tâche d'ingestion, vous pouvez omettre la <code translate="No">callbacks</code> champ.</p>

      <p>Si vous utilisez notre application de rappel, vous pouvez <a href="http://solutions.brightcove.com/bcls/di-api/di-log.txt">voir les notifications</a>. Cette application est utilisée pour les rappels par plusieurs autres applications, utilisez donc l'identifiant du travail pour rechercher ceux associés à votre travail.</p>
      </li>
      <li>Vous devriez recevoir une réponse qui ressemble à ceci:
      <pre class="line-numbers">
    <code class="language-json" translate="No">{"id":"bcc3dd36-50de-4343-b42a-ad02bd8f0241"}</code></pre>
      </li>
      <li>Vous devez enregistrer l'identifiant du travail, car il est utile pour identifier les notifications associées à ce travail, ou si vous devez contacter le support</li>
    </ol>

    <p>Si vous avez terminé les étapes ci-dessus avec succès, vous avez ingéré une vidéo dans votre compte à l'aide de Dynamic Ingest API. Si vous avez des problèmes ou des questions, n'hésitez pas à contacter <a href="mailto:training@brightcove.com">Services d'apprentissage Brightcove</a> pour aider.</p>

    <p>Si vous travaillez beaucoup avec nos API, vous pourriez être intéressé à essayer d'autres outils de test en plus de CURL:</p>

    <ul>
      <li><a href="/general/use-insomnia-api-requests.html">Insomnie</a></li>
      <li><a href="/general/use-postman-api-requests.html">Facteur</a></li>
    </ul>
    </section>
    </article>