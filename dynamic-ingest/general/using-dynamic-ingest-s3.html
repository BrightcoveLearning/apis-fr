---
title: 'Utilisation de l'ingestion dynamique avec S3'
description: 'Dans cette rubrique, vous apprendrez à ingérer des vidéos à partir de votre compte Amazon S3 à l'aide de l'API Dynamic Ingest.'

parent: 'General Information' 
grandparent: Dynamic Ingest API
---
 <h1>{{ page.title }}</h1>
<article class="bcls-article">
  <summary>{{ page.description }}</summary>
    <section class="bcls-section">
    <h2 id="Overview">Aperçu</h2>
    
    <p>Dynamic Ingest peut télécharger des vidéos à partir de votre compartiment Amazon S3. Si votre contenu S3 est accessible à <strong>Toutes les personnes</strong> , vous n'avez rien à faire. Si votre contenu est protégé, cependant, vous devrez ajouter une politique de compartiment permettant à Dynamic Ingest d'accéder à vos vidéos. Ce document explique comment procéder.</p>
    
    <aside class="bcls-aside bcls-aside--information">Dynamic Ingest prend désormais en charge les régions AWS V4 pour les fichiers image et VTT lors de l'utilisation des signatures V4. <strong>Si la région AWS accepte uniquement les signatures V4, vous devez utiliser une signature V4.</strong></aside>
    </section>
    
    <section class="bcls-section">
    <h2 id="setPolicy">Définition de la stratégie S3</h2>
    
    <p>Pour configurer votre politique afin d'autoriser Dynamic Ingest à accéder à vos vidéos, accédez à la <a href="http://aws.amazon.com/console/">Console AWS</a>. Sélectionnez votre compartiment, puis sélectionnez l'onglet « Autorisations », puis cliquez sur le bouton « Politique du compartiment ». Sur la dernière ligne cliquez <strong>Ajouter une stratégie de compartiment</strong>. Vous trouverez ci-dessous notre politique recommandée :</p>
    
    <pre class="line-numbers">
    <code class="language-json" translate="No">{
     "Version": "2012-10-17",
     "Id": "VideoCloudBucketPolicy",
     "Statement": [
       {
         "Sid": "Stmt1295042087538",
         "Effect": "Allow",
         "Principal": {
             "AWS": "arn:aws:iam::395540211253:root"
         },
         "Action": [
         "s3:GetObjectAcl",
         "s3:GetObject"
         ],
         "Resource": "arn:aws:s3:::MY-BUCKET/*"
       },
       {
         "Sid": "Stmt1295042087538",
         "Effect": "Allow",
         "Principal": {
             "AWS": "arn:aws:iam::395540211253:root"
         },
         "Action": [
         "s3:GetBucketLocation"
         ],
         "Resource": "arn:aws:s3:::MY-BUCKET"
       }
     ]
     }</code></pre>
    
    <p>Il n'y a que <strong>un changement que vous devez faire</strong> à cette règle de compartiment avant qu'elle ne soit prête :</p>
    
    <ol class="bcls-tasklist">
      <li>
      <p>Remplacer <code translate="No">MY-BUCKET</code> avec le nom de votre bucket sur les deux <code translate="No">Resource</code> lignes. Quitter le <code translate="No">/*</code> à la fin du premier, car cette instruction s'applique à chaque fichier du compartiment.</p>
    
      <aside class="bcls-aside bcls-aside--tip">Étant donné que vous fournissez un accès Video Cloud à votre compartiment S3, vous n'avez pas besoin de modifier les valeurs d'ID de compte ou d'ID utilisateur.</aside>
      </li>
      <li>Vous pouvez éventuellement remplacer le tableau Action par les actions que vous souhaitez autoriser. Les actions valides dont Video Cloud peut avoir besoin sont :
      <h4>Autorisations d'objet - premier tableau d'action dans l'exemple ci-dessus</h4>
    
      <ul>
        <li><code translate="No">s3:GetObject</code>- autoriser Video Cloud à télécharger des fichiers depuis le bucket</li>
        <li><code translate="No">s3:GetObjectAcl</code>- autoriser Video Cloud à obtenir les autorisations ACL pour les fichiers</li>
      </ul>
    
      <h4>Bucket Permissions - deuxième tableau d'action dans l'exemple ci-dessus</h4>
    
      <ul>
        <li>s3:GetBucketLocation - permet à Video Cloud d'obtenir l'emplacement du compartiment (États-Unis, UE, Asie, etc.)</li>
      </ul>
    
      <p>Video Cloud n'a besoin d'aucune autorisation d'écriture.</p>
      </li>
    </ol>
    
    <p>Notez qu'il y a deux déclarations dans la politique. La première instruction affecte les clés dans le compartiment, tandis que la deuxième partie affecte le compartiment lui-même.</p>
    
    <p>Le reste de la politique peut être laissé seul et cela fonctionnera très bien. La documentation d'Amazon contient plus d'informations sur le <a href="http://docs.amazonwebservices.com/AmazonS3/latest/dev/index.html?UsingBucketPolicies.html">éléments d'une politique de compartiment.</a></p>
    </section>
    </article>
 