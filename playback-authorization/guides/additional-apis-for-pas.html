---
title: 'API supplémentaires pour le service d'autorisation de lecture' la
description: "Dans cette rubrique, vous découvrirez les API supplémentaires disponibles pour la protection du contenu lors de l'utilisation du service d'autorisation de lecture de Brightcove."
parent: Guides 
grandparent: Playback Authorization
layout: staging
---
 <h1>{{ page.title }}</h1>
<article class="bcls-article">
  <summary>{{ page.description }}</summary>

  <br />
  <aside class="bcls-aside  bcls-aside--tip"> Cette fonctionnalité est disponible pour un ensemble spécifique de clients ayant accès à la phase de disponibilité limitée du service d'autorisation de lecture. </aside>

  <section class="bcls-section">
    <h2 id="Introduction">introduction</h2>

    <p>
      Le service d'autorisation de lecture (PAS) de Brightcove offre un niveau de sécurité supplémentaire lors de l'utilisation de Dynamic Delivery avec un contenu protégé par DRM ou HTTP Live Streaming Encryption (HLSe).
    </p>
    <p>
      Si vous n'êtes pas familier avec cette fonction, consultez le <a href="/playback-authorization/getting-started/overview-playback-authorization-service.html">Aperçu: DRM avec service d'autorisation de lecture</a> document.
    </p>

    <p>
      Des API supplémentaires sont à votre disposition pour gérer votre contenu à l'aide de PAS. Ils vous permettent d'effectuer les opérations suivantes :
    </p>
    <ul>
      <li>
        <a href="#Blacklist_tokens">Jetons de liste noire</a>
      </li>
      <li>
        <a href="#Audit_an_account">Auditer un compte</a>
      </li>
    </ul>
    <aside class="bcls-aside  bcls-aside--information"> Ces API ne sont prises en charge que lors de la gestion des DRM à l'aide du service d'autorisation de lecture. </aside>
  </section>

  <section class="bcls-section">
    <h2 id="Blacklist_tokens">Jetons de liste noire</h2>

    <p>
      Un token qui a été mis sur liste noire ne sera pas considéré comme valide pour les demandes de licence, même s'il aurait autrement été approuvé. Les clients peuvent mettre sur liste noire jusqu'à 100 jetons. Si 100 tokens sont déjà sur liste noire, un client doit supprimer un ou plusieurs tokens pour faire de la place pour des entrées supplémentaires.
    </p>

    <h3>API de liste noire</h3>
    <p>
      L'API Blacklist est utilisée pour gérer vos jetons qui sont sur liste noire et considérés comme non valides pour les demandes de licence.
    </p>

    <h3>URL de base</h3>
    <p>
      L'URL de base de l'API Blacklist est :
    </p>
    <pre><code class="language-http" translate="No">https://playback-auth.api.brightcove.com</code></pre>

    <h3>Chemin du compte</h3>
    <p>
      Dans tous les cas, des demandes seront faites pour un compte Video Cloud spécifique. Ainsi, vous ajouterez toujours le terme comptes suivi de votre identifiant de compte à l'URL de base :
    </p>
    <pre><code class="language-http" translate="No">https://playback-auth.api.brightcove.com/v1/accounts/{accountID}/blacklist
</code></pre>

    <h3>Autorisation</h3>
    <p>
      Un jeton d'accès pour les demandes est requis et doit être présent dans l'en-tête Authorization :
    </p>
    <pre><code class="language-http" translate="No">Authorization:  Bearer  {access_token}</code></pre>
    <p>
      Le jeton d'accès est un jeton d'accès OAuth2 temporaire qui doit être obtenu auprès du service Brightcove OAuth. Pour plus de détails sur la façon d'obtenir les informations d'identification client et de les utiliser pour récupérer des jetons d'accès, consultez le <a href="/oauth/getting-started/overview-oauth-api-v4.html">Présentation de Brightcove OAuth</a>.
    </p>

    <h3>Autorisations</h3>
    <p>
      Les demandes à l'API Blacklist doivent être effectuées à partir de <a href="/oauth/index.html">informations d'identification du client</a> avec les autorisations suivantes :
    </p>
    <ul>
      <li>
        <code translate="No">video-cloud/playback-auth/blacklist</code>
      </li>
    </ul>

    <h3>Gérer les jetons sur liste noire</h3>
    <p>
      Les mises à jour de la liste noire peuvent prendre jusqu'à une minute pour se propager dans le système. L'API Blacklist prend en charge les requêtes suivantes :
    </p>

    <h4>Ajouter un jeton à la liste noire :</h4>
    <pre><code class="language-http" translate="No">PUT  (no  req  body)/v1/accounts/{accountID}/blacklist/tokens/{token}
</code></pre>
    <p>
      L'intégralité de la chaîne JWT encodée est incluse dans le chemin.
    </p>

    <h4>Afficher la liste noire actuelle :</h4>
    <pre><code class="language-http" translate="No">GET  /v1/accounts/{accountId}/blacklist
</code></pre>
    <br />

    <h4>Vérifiez si un token est sur la liste noire :</h4>
    <pre><code class="language-http" translate="No">GET  /v1/accounts/{accountID}/blacklist/tokens/{token}
</code></pre>
    <p>
      L'intégralité de la chaîne JWT encodée est incluse dans le chemin.
    </p>
    <p>
      Réponses :
    </p>
    <ul>
      <li>
        204 - le jeton est sur liste noire
      </li>
      <li>
        404 - le jeton n'est pas sur liste noire
      </li>
    </ul>

    <h4>Supprimer un jeton de la liste noire :</h4>
    <pre><code class="language-http" translate="No">DELETE  /v1/accounts/{accountID}/blacklist/tokens/{token}
</code></pre>
    <p>
      L'intégralité de la chaîne JWT encodée est incluse dans le chemin.
    </p>
  </section>

  <section class="bcls-section">
    <h2 id="Audit_an_account">Auditer un compte</h2>

    <p>
      L'API d'audit vous permet de générer un rapport d'accès quotidien pour l'utilisation du service d'autorisation de lecture de votre compte. Ce rapport comprend des détails ainsi que la réponse d'autorisation pour chaque session.
    </p>

    <h3>API d'audit</h3>
    <p>
      Voici les détails de l'API d'audit :
    </p>

    <h3>URL de base</h3>
    <p>
      L'URL de base de l'API d'audit est :
    </p>
    <pre><code class="language-http" translate="No">https://playback-auth.api.brightcove.com
</code></pre>

    <h3>Chemin du compte</h3>
    <p>
      Dans tous les cas, les demandes seront faites pour un compte Video Cloud spécifique. Ainsi, vous ajouterez toujours le terme comptes suivi de votre identifiant de compte à l'URL de base :
    </p>
    <pre><code class="language-http" translate="No">https://playback-auth.api.brightcove.com/v1/audit/accounts/{accountID}
</code></pre>

    <h3>Autorisation</h3>
    <p>
      Un jeton d'accès pour les demandes est requis et doit être présent dans l'en-tête Authorization :
    </p>
    <pre><code class="language-http" translate="No">Authorization:  Bearer  {access_token}
</code></pre>
    <p>
      Le jeton d'accès est un jeton d'accès OAuth2 temporaire qui doit être obtenu auprès du service Brightcove OAuth. Pour plus de détails sur la façon d'obtenir les informations d'identification client et de les utiliser pour récupérer des jetons d'accès, consultez le <a href="/oauth/getting-started/overview-oauth-api-v4.html">Présentation de Brightcove OAuth</a>.
    </p>

    <h3>Autorisations</h3>
    <p>
      Les requêtes à l'API d'audit doivent être effectuées à partir de <a href="/oauth/index.html">informations d'identification du client</a> avec les autorisations suivantes :
    </p>
    <ul>
      <li>
        <code translate="No">video-cloud/playback-auth/audit</code>
      </li>
    </ul>

    <h3>Générer des rapports</h3>
    <p>
      Utilisez l'API d'audit pour générer un rapport d'accès quotidien avec les détails de la session en procédant comme suit :
    </p>
    <aside class="bcls-aside  bcls-aside--information">
      <p>
        Remarques:
      </p>
      <ul>
        <li>
          <p>
            Tous les journaux d'accès d'autorisation pour Brightcove sont dans le fuseau horaire UTC. N'oubliez pas de prendre en compte les fuseaux horaires lorsque les demandes n'apparaissent pas dans votre rapport.
          </p>
        </li>
        <li>
          <p>
            Brightcove recommande d'exécuter les rapports de requête d'API d'audit 6 heures après minuit pour que le traitement de toutes les régions soit terminé pour toutes les données d'autorisation de la veille. Les appels d'API d'audit pour un compte donné et un jour donné sont mis en cache côté API. Si vous exécutez un rapport avant l'heure suggérée minuit + 6 heures, vous constaterez peut-être que votre rapport est incorrect ou incomplet.
          </p>
        </li>
      </ul>
    </aside>

    <ol class="bcls-tasklist__restart">
      <li>
        <p>
          Demander un rapport d'utilisation quotidien
        </p>

        <h4>Paramètres</h4>
        <table class="bcls-table">
          <thead class="bcls-table__head">
            <tr>
              <th>Champ</th>
              <th>Taper</th>
              <th>La description</th>
            </tr>
          </thead>
          <tbody class="bcls-table__body">
            <tr>
              <td><code translate="No">accountID</code></td>
              <td>Chaîne de caractères</td>
              <td>Votre identifiant de compte Video Cloud</td>
            </tr>
            <tr>
              <td><code translate="No">date</code></td>
              <td>Chaîne de caractères</td>
              <td>
                Validation :
                <ul>
                  <li>
                    Format AAAA-MM-JJ
                  </li>
                  <li>
                    La date ne peut pas être aujourd'hui (heure UTC)
                  </li>
                  <li>
                    La date ne peut pas être antérieure à plus de 30 jours
                  </li>
                  <li>
                    Brightcove ne conserve pas les rapports d'utilisation du service d'autorisation après 30 jours pour se conformer au RGPD
                  </li>
                </ul>
              </td>
            </tr>
          </tbody>
        </table>

        <h4>Demander</h4>
        <table class="bcls-table">
          <tbody class="bcls-table__body">
            <tr>
              <th>Méthode</th>
              <td>PUBLIER</td>
            </tr>
            <tr>
              <th>URL</th>
              <td>
                https://playback-auth.api.brightcove.com/v1/audit/accounts/<span class="bcls-input">{accountID}</span>/mettre en doute/<span class="bcls-input">{date}</span>
              </td>
            </tr>
            <tr>
              <th rowspan="2">En-têtes</th>
              <td>
                Autorisation: Porteur <span class="bcls-input">votre jeton d'accès</span>
              </td>
            </tr>
            <tr>
              <td>Type de contenu : application/json</td>
            </tr>
          </tbody>
        </table>

        <h4>Réponse</h4>
        <p>Exemple de réponse (200 OK) :</p>

        <pre class="line-numbers">
<code class="language-json" translate="No">{
	&quot;executionID&quot;:  &quot;abcdef-asfdag-dvsbcd&quot;
}</code></pre>

        <p>
          Des détails:
        </p>
        <table class="bcls-table">
          <thead class="bcls-table__head">
            <tr>
              <th>Champ</th>
              <th>Taper</th>
              <th>La description</th>
            </tr>
          </thead>
          <tbody class="bcls-table__body">
            <tr>
              <td><code translate="No">executionID</code></td>
              <td>Chaîne de caractères</td>
              <td>
                Un identifiant unique associé à un rapport d'utilisation pour un <code translate="No">accountID</code> et <code translate="No">date</code>. Cet identifiant est transmis aux autres points de terminaison ci-dessous.
              </td>
            </tr>
          </tbody>
        </table>
      </li>
      <li>
        <p>
          Vérifiez l'état de votre rapport
        </p>

        <h4>Demander</h4>
        <table class="bcls-table">
          <tbody class="bcls-table__body">
            <tr>
              <th>Méthode</th>
              <td>AVOIR</td>
            </tr>
            <tr>
              <th>URL</th>
              <td>
                https://playback-auth.api.brightcove.com/v1/audit/accounts/<span class="bcls-input">{accountID}</span>/exécution/<span class="bcls-input">{executionID}</span>/statut
              </td>
            </tr>
            <tr>
              <th rowspan="2">En-têtes</th>
              <td>
                Autorisation: Porteur <span class="bcls-input">votre jeton d'accès</span>
              </td>
            </tr>
            <tr>
              <td>Type de contenu : application/json</td>
            </tr>
          </tbody>
        </table>

        <h4>Réponse</h4>
        <p>Exemple de réponse (200 OK) :</p>

        <pre class="line-numbers">
<code class="language-json" translate="No">{
	&quot;status&quot;:  &quot;completed&quot;
}
</code></pre>

        <p>
          Des détails:
        </p>
        <table class="bcls-table">
          <thead class="bcls-table__head">
            <tr>
              <th>Champ</th>
              <th>Taper</th>
              <th>La description</th>
            </tr>
          </thead>
          <tbody class="bcls-table__body">
            <tr>
              <td><code translate="No">status</code></td>
              <td>Chaîne de caractères</td>
              <td>Valeurs : "terminé", "traitement", "échec"</td>
            </tr>
          </tbody>
        </table>
      </li>
      <li>
        <p>
          Récupérez votre rapport
        </p>
        <h4>Demander</h4>
        <table class="bcls-table">
          <tbody class="bcls-table__body">
            <tr>
              <th>Méthode</th>
              <td>AVOIR</td>
            </tr>
            <tr>
              <th>URL</th>
              <td>
                https://playback-auth.api.brightcove.com/v1/audit/accounts/<span class="bcls-input">{accountID}</span>/exécution/<span class="bcls-input">{executionID}</span>/rapport
              </td>
            </tr>
            <tr>
              <th rowspan="2">En-têtes</th>
              <td>
                Autorisation: Porteur <span class="bcls-input">votre jeton d'accès</span>
              </td>
            </tr>
            <tr>
              <td>Type de contenu : application/json</td>
            </tr>
          </tbody>
        </table>

        <h4>Réponse</h4>
        <p>Exemple de réponse (200 OK) :</p>

        <pre class="line-numbers">
<code class="language-json" translate="No">{
    &quot;signedURL&quot;:  &quot;http://signed-url&quot;,
    &quot;expirationTime&quot;:  1569219842
}
</code></pre>

        <p>
          Des détails:
        </p>
        <table class="bcls-table">
          <thead class="bcls-table__head">
            <tr>
              <th>Champ</th>
              <th>Taper</th>
              <th>La description</th>
            </tr>
          </thead>
          <tbody class="bcls-table__body">
            <tr>
              <td><code translate="No">SignedURL</code></td>
              <td>Chaîne de caractères</td>
              <td>
                Les résultats sont renvoyés sous forme d'URL S3 que vous pouvez télécharger
              </td>
            </tr>
            <tr>
              <td><code translate="No">expirationTime</code></td>
              <td>Horodatage de l'époque</td>
              <td>Les URL S3 signées sont valides pendant 15 minutes</td>
            </tr>
          </tbody>
        </table>
      </li>
    </ol>
  </section>

  <section class="bcls-section">
    <h2 id="Limitations">Limites</h2>

    <p>
      Les limitations suivantes s'appliquent avec la version initiale de cette fonctionnalité :
    </p>
    <ul>
      <li>
        Il y a une limite de 100 jetons sur liste noire. Après cela, une erreur sera renvoyée.
      </li>
    </ul>
  </section>

  <section class="bcls-section">
    <h2 id="Related_topics">Rubriques connexes</h2>

    <ul>
      <li>
        <a href="/playback-authorization/getting-started/overview-playback-authorization-service.html">Aperçu: DRM avec service d'autorisation de lecture</a>
      </li>
      <li>
        <a href="/playback-authorization/guides/using-pas-with-bcp.html">Utilisation de DRM d'autorisation de lecture avec Brightcove Player</a>
      </li>
      <li>
        <a href="/playback-authorization/guides/using-pas-with-sdks.html">Utilisation de DRM d'autorisation de lecture avec les SDK natifs</a>
      </li>
    </ul>
  </section>
</article>

<script>
  var h1 = document.querySelector('h1'), path = location.pathname, new_location = 'https://apis.support.brightcove.com/playback-restrictions/guides/authentication-apis.html', message = '<h3>Cette page a été déplacée vers <a href="' + new_location + '">' + new_location + '</a>. Veuillez mettre à jour votre signet ! Vous serez redirigé dans 5 secondes.<h3>'; console.log('new_location', new_location); h1.insertAdjacentHTML('afterend', message); réorienter(); fonction redirection() { var t = window.setTimeout(go_to_new_location, 5000); } fonction go_to_new_location() { window.location.href = new_location; }
</script>