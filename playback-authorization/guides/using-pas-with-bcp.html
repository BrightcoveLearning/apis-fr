---
title: Description de « Utilisation de l'autorisation de lecture DRM avec Brightcove Player » : "Dans cette rubrique, vous apprendrez comment configurer Brightcove Player pour utiliser le service d'autorisation de lecture de Brightcove."
parent: Guides 
grandparent: Playback Authorization
layout: staging
---
 <h1>{{ page.title }}</h1>
<article class="bcls-article">
  <summary>{{ page.description }}</summary>
  
  <br/>
  <aside class="bcls-aside bcls-aside--tip">Cette fonctionnalité est disponible pour un ensemble spécifique de clients ayant accès à la phase de disponibilité limitée du service d'autorisation de lecture.</aside>
  
  <section class="bcls-section">
    <h2 id="Introduction">introduction</h2>

    <p>Le service d'autorisation de lecture (PAS) de Brightcove offre un niveau de sécurité supplémentaire lors de l'utilisation de Dynamic Delivery avec un contenu protégé par DRM ou HTTP Live Streaming Encryption (HLSe). Avec PAS, les demandes de licence seront authentifiées à l'aide d'un <a href="https://general.support.brightcove.com/developer/create-jwt.html">Jeton Web JSON (JWT)</a>. Le jeton est utilisé lors de la demande de licence vidéo, une fois la vidéo chargée dans le lecteur et la source sélectionnée.</p>
    <p>Ce document se concentre sur l'utilisation de PAS avec Brightcove Player. Pour plus d'informations sur le PAS en général, consultez le <a href="/playback-authorization/getting-started/overview-playback-authorization-service.html">Aperçu: DRM avec service d'autorisation de lecture</a> document.</p>
  </section>

  <section class="bcls-section">
    <h2 id="Overview">Aperçu</h2>
    <p>Pour configurer Brightcove Player pour utiliser PAS, transmettez un paramètre de jeton lors de la demande de catalogue pour la vidéo. Le code sera affiché dans la section suivante. Pour être sûr d'avoir les pré-requis pour comprendre le code, les concepts dans les documents suivants vous aideront à fournir une base sur laquelle construire :</p>
    <ul>
      <li><a href="https://general.support.brightcove.com/developer/create-jwt.html">Créer un <span translate="No">Jeton Web JSON</span> (JWT)</a></li>
      <li><a href="https://support.brightcove.com/concepts-using-javascript-promises">Notions : Utiliser les promesses JavaScript</a></li>
      <li><a href="https://support.brightcove.com/player-catalog#Catalog_parameters_object">Paramètres du catalogue</a></li>
      <li><a href="https://support.brightcove.com/configuring-brightcove-player-drm">Configuration de Brightcove Player pour DRM</a></li>
    </ul>
  </section>

  <section class="bcls-section">
    <h2 id="Using_a_token_in_the_catalog_parameters">Utilisation d'un jeton dans les paramètres du catalogue</h2>
    <p>Cette section détaille le code nécessaire pour configurer le lecteur pour utiliser PAS. Pour ce faire, transmettez un jeton de chaîne dans le cadre d'un <a href="https://support.brightcove.com/player-catalog#Catalog_parameters_object">paramètres de catalogue</a> objet, en utilisant le nom de la propriété <code translate="No">bcovAuthToken</code>.</p>
    <p>Cette approche fonctionnera à la fois pour les DRM et HLSe. Le lecteur détectera le type de source en cours de chargement à partir de l'API de lecture et fournira l'implémentation correcte pour cette source.</p>
    <aside class="bcls-aside bcls-aside--information">Noter: Cette implémentation nécessite la version Player <strong>6.33.0</strong> ou plus grand. Si vous utilisez DRM, vous aurez besoin de la version <strong>5.5.0</strong> ou plus tard du <a href="https://support.brightcove.com/configuring-brightcove-player-drm#Changelog">Plugin DRM</a>.</aside>
    <p>Cet exemple de code d'implémentation utilise le <a href="https://support.brightcove.com/player-catalog#get_method">catalogue.get()</a> méthode pour demander la vidéo tout en fournissant le jeton (qui devrait remplacer le <code translate="No">&lt;BCOV_AUTH_TOKEN&gt;</code> espace réservé). Assurez-vous de NE PAS inclure l'ID de la vidéo dans le <code translate="No">&lt;video-js&gt;</code> étiqueter.</p>
    <pre class="line-numbers">
<code class="language-html" translate="No">&lt;video-js id=&quot;myPlayerID&quot;
  data-account=&quot;1507807800001&quot;
  data-player=&quot;default&quot;
  data-embed=&quot;default&quot;
  controls
  data-application-id&gt;&lt;/video-js&gt;
&lt;script src=&quot;//players.brightcove.net/1507807800001/default_default/index.min.js&quot;&gt;&lt;/script&gt;

&lt;script&gt;
  (function() {
    var myPlayer = videojs.getPlayer('myPlayerID');

    myPlayer.catalog.get({
      type: 'video',
      id: '6015247091001',
      <span class="bcls-highlight">bcovAuthToken: '&lt;BCOV_AUTH_TOKEN&gt;</span>'
    })
      .then(function(videoReturned){
        myPlayer.catalog.load(videoReturned);
      })
      .catch(function(err){
        console.log('err:', err);
      });
  })();
&lt;/script&gt;</code></pre>
  </section>

  <section class="bcls-section">
    <h2 id="SSAI_configuration">Configuration SSAI</h2>
    <p>Si vous envisagez d'utiliser PAS avec SSAI, il y a un petit ajout de configuration qui doit être fait. Un paramètre d'ajout doit être ajouté à l'objet de paramètres de catalogue, nommé <code translate="No">adConfigId</code>. </p>
    <pre class="line-numbers">
<code class="language-html" translate="No">&lt;video-js id=&quot;myPlayerID&quot;
  data-account=&quot;1507807800001&quot;
  data-player=&quot;default&quot;
  data-embed=&quot;default&quot;
  controls
  data-application-id&gt;&lt;/video-js&gt;
&lt;script src=&quot;//players.brightcove.net/1507807800001/default_default/index.min.js&quot;&gt;&lt;/script&gt;

&lt;script&gt;
  (function() {
    var myPlayer = videojs.getPlayer('myPlayerID');

    myPlayer.catalog.get({
      type: 'video',
      id: '6015247091001',
      bcovAuthToken: '<span class="bcls-input">BCOV_AUTH_TOKEN</span>',
      <span class="bcls-highlight">adConfigId: '&lt;YOUR_ADD_CONFIG_ID&gt;</span>'
    })
      .then(function(videoReturned){
        myPlayer.catalog.load(videoReturned);
      })
      .catch(function(err){
        console.log('err:', err);
      });
  })();
&lt;/script&gt;</code></pre>
  </section>

  <section class="bcls-section">
    <h2 id="Using_a_custom_implementation">Utiliser une implémentation personnalisée</h2>
    <p>Vous utilisez peut-être une implémentation personnalisée où vous n'avez pas le <code translate="No">bcovAuthToken</code> pour régler la valeur avec le <a href="https://support.brightcove.com/player-catalog#get_method">catalogue.get()</a> demande de méthode. Si vous utilisez votre propre lecteur ou un lecteur tiers, vous pouvez utiliser l'une des approches suivantes pour transmettre votre jeton à la demande de licence :</p>
    <ul>
      <li>
        En-tête HTTP : <code translate="No">BCOV-Auth</code>(Non pris en charge pour HLSe)
      </li>
      <li>
        Biscuit: <code translate="No">bcov-auth</code>(Non pris en charge pour HLSe)
      </li>
      <li>
        Paramètre de requête : <code translate="No">bcov-auth</code>(Uniquement pris en charge pour HLSe) Doit être ajouté à l'URL du manifeste principal, au lieu de l'URL de la licence.
      </li>
    </ul>
    <p>
      Voici un exemple montrant comment régler le <code translate="No">source.emeHeaders['BCOV-Auth']</code> attribut sur l'objet vidéo au jeton. Cela insère le <code translate="No">emeHeader</code> sur chaque source APRES la demande de catalogue.
    </p>
    <pre class="line-numbers">
<code class="language-html" translate="No">&lt;video-js id=&quot;myPlayerID&quot;
  data-account=&quot;1507807800001&quot;
  data-player=&quot;default&quot;
  data-embed=&quot;default&quot;
  controls
  data-application-id&gt;&lt;/video-js&gt;
&lt;script src=&quot;//players.brightcove.net/1507807800001/default_default/index.min.js&quot;&gt;&lt;/script&gt;

&lt;script&gt;
  (function() {
    var myPlayer = videojs.getPlayer('myPlayerID');

    myPlayer.catalog.get({
      type: 'video',
      id: '6015247091001'
    })
    .then(function(video){
      sources=video.sources;

      for (let i = 0; i &lt; sources.length; i++) {
        const source = sources[i];

        // Only add the auth token as an eme header for DRM content
        if (<span class="bcls-input">BCOV_AUTH_TOKEN</span> &amp;&amp; source.key_systems) {
          source.emeHeaders = {
              'BCOV-Auth': <span class="bcls-input">BCOV_AUTH_TOKEN</span>
            };
        }
      }
        myPlayer.catalog.load(video);
      })
      .catch(function(err){
        console.log('err:', err);
      });
  })();
&lt;/script&gt;</code></pre>
    <!-- <p>
      For more details about working with MPEG-DASH, see the <a href="https://support.brightcove.com/creating-dash-drm-manifest-brightcove-player">Creating a DASH DRM Manifest for the Brightcove Player</a> document.
    </p> -->

  </section>

  <section class="bcls-section">
    <h2 id="Related_topics">Rubriques connexes</h2>

    <ul>
      <li><a href="http://docs.brightcove.com/en/staging/pas/overview-playback-authorization-service.html">Aperçu: DRM avec service d'autorisation de lecture</a></li>
      <li><a href="/playback-authorization/getting-started/technical-workflow-pas.html">Implémentation de DRM avec le service d'autorisation de lecture</a></li>
      <li><a href="/playback-authorization/guides/using-pas-with-sdks.html">Utilisation de DRM d'autorisation de lecture avec les SDK natifs</a></li>
      <li>
        <a href="/playback-authorization/guides/additional-apis-for-pas.html">API supplémentaires pour le service d'autorisation de lecture</a>
      </li>
    </ul>
  </section>
</article>

<script>
  var h1 = document.querySelector('h1'), path = location.pathname, new_location = 'https://player.support.brightcove.com/playback/playback-restrictions-with-bcp.html', message = '<h3>Cette page a été déplacée vers <a href="' + new_location + '">' + new_location + '</a>. Veuillez mettre à jour votre signet ! Vous serez redirigé dans 5 secondes.<h3>'; console.log('new_location', new_location); h1.insertAdjacentHTML('afterend', message); réorienter(); fonction redirection() { var t = window.setTimeout(go_to_new_location, 5000); } fonction go_to_new_location() { window.location.href = new_location; }
</script>