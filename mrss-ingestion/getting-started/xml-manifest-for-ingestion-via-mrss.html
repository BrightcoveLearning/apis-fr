---
title: Manifeste XML pour l'ingestion via MRSS
description: 'Cette rubrique explique la structure du XML utilisé par l'ingestion MRSS pour télécharger des vidéos sur Video Cloud. Noter: Il s'agit d'un service d'ingestion bêta.'
parent: MRSS ingestion
layout: staging
---
 <h1>{{ page.title }}</h1>
<article class="bcls-article">
  <summary>{{ page.description }}</summary>
  <section class="bcls-section">
    <h2 id="Introduction">introduction</h2>
    <p>Lors de l'ingestion de vidéos, vous pouvez utiliser des fichiers manifestes XML pour spécifier des métadonnées supplémentaires (y compris le titre de la vidéo, la description, les heures de vol, les étiquettes et les métadonnées personnalisées), ainsi que des fichiers de vignettes et de sous-titres.</p>
    <aside class="bcls-aside bcls-aside--information"> Noter:
      <ul>
        <li>C'est un <strong><em>bêta</em></strong> service d'ingestion - contactez votre responsable de compte si vous souhaitez participer à la version bêta.</li>
        <li>Bien que les balises XML utilisent le mot-clé <code translate="No">ooyala</code> , cette méthode d'ingestion vous permettra de télécharger des vidéos sur votre compte Video Cloud.</li>
      </ul>
    </aside>
  </section>
  <section class="bcls-section">
    <h2 id="Handling_of_metadata">Gestion des métadonnées</h2>
    <p>Si vous incluez <code translate="No">metadata</code> pour les vidéos lorsque vous les ingérez, elles sont mappées aux champs vidéo de Video Cloud de l'une des deux manières suivantes :</p>
    <ol>
      <li>Par défaut, chaque <code translate="No">metadata</code> la paire clé/valeur est ajoutée en tant que <strong>étiqueter</strong> sous la forme: <code translate="No">meta::key::value</code>. Par exemple, <code translate="No">&lt;ooyala:metadata name="category"&gt;cooking&lt;/ooyala:metadata&gt;</code> produirait l'étiquette <code translate="No">meta::category::cooking</code></li>
    </ol>
  </section>
  <section class="bcls-section">
    <h2 id="XML_Manifest_Elements">Éléments de manifeste XML</h2>
    <p>Vous pouvez utiliser les éléments suivants dans le fichier manifeste XML.</p>
    <table class="bcls-table">
      <caption class="bcls-caption--table">Éléments XML</caption>
      <thead class="bcls-table__head">
          <tr>
              <th>Balise XML</th>
              <th>La description</th>
              <th>Obligatoire/Facultatif</th>
          </tr>
      </thead>
      <tbody class="bcls-table__body">
          <tr>
              <td><code translate="No">&lt;channel&gt;</code></td>
              <td>Contient un ou plusieurs <code translate="No">&lt;item&gt;</code> éléments.</td>
              <td>obligatoire</td>
          </tr>
          <tr>
              <td><code translate="No">&lt;item&gt;</code></td>
              <td>Représente une seule vidéo à ingérer. Vous pouvez spécifier plusieurs vidéos (<code translate="No">&lt;item&gt;</code> balises) dans un fichier manifeste XML. Contient les balises restantes de ce tableau.</td>
              <td>obligatoire</td>
          </tr>
          <tr>
              <td><code translate="No">&lt;media:content&gt;</code></td>
              <td>
                Spécifie une vidéo à ingérer comme <strong>nom de fichier</strong> d'une vidéo que vous avez téléchargée sur votre serveur. <aside class="bcls-aside bcls-aside--information">Remarques: 
                  <ul style="margin-left: 1rem;padding: 0;">
                    <li>L'extension du fichier URL distant doit être <strong>m3u8</strong> ou <strong>mpd</strong> ; sinon nous le mettrons par défaut à progressif <strong>.mp4</strong>.</li>
                    <li>Pour un actif distant, utilisez <code translate="No">&lt;ooyala:remoteasset&gt;</code> au lieu.</li>
                  </ul>
                  </aside>
              </td>
              <td>requis (sauf pour les actifs distants)</td>
          </tr>
          <tr>
              <td><code translate="No">&lt;media:title&gt;</code></td>
              <td>Nom ou titre de la vidéo.</td>
              <td>optionnel</td>
          </tr>
          <tr>
              <td><code translate="No">&lt;media:thumbnail&gt;</code></td>
              <td>
                Spécifie une miniature (image d'aperçu). L'un des éléments suivants :
                <ul style="padding: 0;margin-left: 1rem;">
                  <li>Nom de fichier d'une vignette que vous avez téléchargée sur votre serveur.</li>
                  <li>URL où se trouve la miniature. L'URL peut inclure <code translate="No">http://</code> ou <code translate="No">https://</code>.</li>
                </ul>
              </td>
              <td>optionnel</td>
          </tr>
          <tr>
              <td><code translate="No">&lt;media:subTitle&gt;</code></td>
              <td>
                Spécifie un fichier de sous-titres codés (pris en charge pour les fichiers DFXP, WebVTT et SRT). Voir <a href="https://studio.support.brightcove.com/media/overview-adding-captions-video.html">Ingérer des fichiers de sous-titres codés</a>. Les attributs:
                <ul style="padding: 0;margin-left: 1rem;">
                  <li><code translate="No">href</code>(<strong>obligatoire</strong> ) - L'un des éléments suivants :
                    <ul style="padding: 0;margin-left: 1rem;">
                      <li>Nom de fichier du fichier de sous-titres que vous avez téléchargé. Exemple: <samp translate="No">légende-1.dfxp</samp></li>
                      <li>URL où se trouve le fichier de sous-titres. L'URL peut inclure <code translate="No">http://</code> ou <code translate="No">https://</code>.</li>
                    </ul>
                  </li>
                  <li><code translate="No">lang</code>(<strong>obligatoire</strong> ) - langue du fichier de sous-titres codés. Code à deux lettres. Voir <a href="https://studio.support.brightcove.com/media/adding-captions-videos-using-media-module.html#texttrack">Sous-titres pris en charge</a>.</li>
                  <li><code translate="No">frameRate</code>(<strong>optionnel</strong> ) - Fréquence d'images du fichier de sous-titres codés. Les unités sont en images par seconde (FPS). La valeur par défaut est 30. Les fichiers de sous-titres codés plus anciens peuvent avoir 24 ans.</li>
                </ul>
              </td>
              <td>optionnel</td>
          </tr>
          <tr>
              <td><code translate="No">&lt;media:description&gt;</code></td>
              <td>Description de la vidéo.</td>
              <td>optionnel</td>
          </tr>
          <tr>
              <td><code translate="No">&lt;<link>&gt;</code></td>
              <td>URL permanente où vous intégrez la vidéo. Correspond à l'actif créé <code translate="No">hosted_at</code> biens</td>
              <td>optionnel</td>
          </tr>
          <tr>
              <td><code translate="No">&lt;dcterms:valid&gt;</code></td>
              <td>
                Heures de vol représentant les heures de début et de fin lorsque l'asset peut être lu. Exemple:
<pre class="line-numbers"><code class="language-xml">&lt;dcterms:valid&gt; start=2011-06-28T15:15:00-07:00 ; end=2022-12-01T16:00:00-07:00;scheme=W3C-DTF &lt;/dcterms:valid&gt;</code></pre>
              </td>
              <td>optionnel</td>
          </tr>
          <tr>
              <td><code translate="No">&lt;ooyala:labels&gt;</code></td>
              <td>Une ou plusieurs valeurs, séparées par des virgules. Exemple: <code translate="No">/sports,/sports/jogging</code>. Ces valeurs seront utilisées pour remplir <a href="https://studio.support.brightcove.com/media/editing-video-properties-using-media-module.html">Balises de nuage vidéo</a>.</td>
              <td>optionnel</td>
          </tr>
          <tr>
              <td><code translate="No">&lt;ooyala:embedcode&gt;</code></td>
              <td>ID vidéo Video Cloud.</td>
              <td>facultatif (obligatoire si vous mettez à jour une vidéo plutôt que d'en ajouter une nouvelle)</td>
          </tr>
          <tr>
              <td><code translate="No">&lt;ooyala:metadata&gt;</code></td>
              <td>
                Métadonnées personnalisées pour la vidéo. Correspond aux champs personnalisés dans Studio. <aside class="bcls-aside bcls-aside--information">Noter: <strong>Si une métadonnée est définie et qu'un champ personnalisé n'existe pas, l'ingestion échouera</strong>.</aside>
                <p>Exemple: <code translate="No">&lt;ooyala:metadata name="category"&gt;cooking&lt;/ooyala:metadata&gt;</code>.</p>
              </td>
              <td>optionnel</td>
          </tr>
          <tr>
              <td><code translate="No">&lt;ooyala:remoteasset&gt;</code></td>
              <td>
                Spécifie un actif distant à ingérer. Une ressource distante est une vidéo hébergée ailleurs que Video Cloud. Spécifiez les attributs suivants :
                <ul style="padding: 0;margin-left: 1rem;">
                  <li><code translate="No">durationInMs</code>: durée du média (en millisecondes)</li>
                  <li>:<code translate="No">url</code> URL où se trouve l'actif distant. L'URL peut inclure <code translate="No">http://</code> ou <code translate="No">https://</code>.</li>
                </ul>
                <p>Ce paramètre correspond à la valeur de la propriété host_at pour un actif distant. Exemple: <code translate="No">&lt;ooyala:remoteasset durationInMs='5000' url="http://your_website/your_remote_assets.mp4" /&gt;</code></p>
                <aside class="bcls-aside bcls-aside--information">Noter: Une fois qu'un actif distant a été créé, sa propagation vers les différents CDN peut être retardée de 60 secondes ou plus. Si vous demandez un actif distant trop tôt après sa création, les résultats seront mis en cache par les CDN, ce qui peut prendre plusieurs minutes à effacer.</aside>
              </td>
              <td>requis (pour les actifs distants uniquement)</td>
          </tr>
          <tr>
              <td><code translate="No">&lt;ooyala:profileguid&gt;</code></td>
              <td>Spécifie un profil d'acquisition Video Cloud à utiliser pour le traitement de la vidéo. Si vous ne souhaitez pas utiliser le profil par défaut du compte, vous devez spécifier celui que vous souhaitez utiliser à la place. Voir <a href="https://studio.support.brightcove.com/admin/managing-ingest-profiles.html">Gestion des profils d'ingestion</a>.</td>
              <td>optionnel</td>
          </tr>
      </tbody>
  </table>
  </section>
  <section class="bcls-section">
    <h2 id="Sample_manifest">Exemple de manifeste</h2>
    <p>Vous trouverez ci-dessous un exemple de manifeste complet.</p>
<pre class="line-numbers"><code class="language-xml">&lt;?xml version="1.0" encoding="utf-8"?&gt; &lt;rss version="2.0" xmlns:media="http://search.yahoo.com/mrss/" xmlns:dcterms="http:/ /purl.org/dc/terms/" xmlns:fh="http://purl.org/syndication/history/1.0" xmlns:ooyala="http://www.ooyala.com/mrss/"&gt; &lt;channel &gt; &lt;item&gt; &lt;media:content url="test.mp4" &gt;&lt;/media:content&gt; &lt;media:subTitle href="my_caption.dfxp"&gt;&lt;/media:subTitle&gt; &lt;media:thumbnail url="my_thumbnail.jpg " filesize="35712"&gt;&lt;/media:thumbnail&gt; &lt;media:title&gt;Test XML&lt;/media:title&gt; &lt;media:description&gt;Ceci est un exemple&lt;/media:description&gt; &lt;ooyala:labels&gt;/test,/ exemple,/xml&lt;/ooyala:labels&gt; &lt;dcterms:valid&gt;start=2016-01-01T15:15:00-07:00 ; end=2022-01-01T16:00:00-07:00&lt;/dcterms:valid&gt; &lt;ooyala:profileguid&gt;57d5a5a10f654fe79ef954dc8d29a108&lt;/ooyala:profileguid&gt; &lt;/item&gt; &lt;/channel&gt; &lt;/rss&gt;</code></pre>
  </section>
  <section class="bcls-section">
    <h2 id="Step_by_step">Pas à pas</h2>
    <h3>Création d'un fichier manifeste XML</h3>
    <ol class="bcls-tasklist">
      <li>Téléchargez vos vidéos et autres contenus (vignettes, fichiers de sous-titres codés, etc.) sur votre serveur d'hébergement. Les URL doivent être accessibles au public.</li>
      <li>Ouvrez un éditeur de texte, de préférence un qui valide XML. (L'équipe Brightcove Learning Services utilise <a href="https://code.visualstudio.com">Code Visual Studio</a> mais il existe plusieurs autres bonnes options disponibles).</li>
      <li>
        Ajoutez les en-têtes XML requis. Par exemple:
<pre class="line-numbers"><code class="language-xml">&lt;?xml version="1.0" encoding="utf-8"?&gt; &lt;rss version="2.0" xmlns:media="http://search.yahoo.com/mrss/" xmlns:dcterms="http:/ /purl.org/dc/terms/" xmlns:fh="http://purl.org/syndication/history/1.0" xmlns:ooyala="http://www.brightcove.com/mrss/"&gt;</code></pre>
      </li>
      <li>
        Créer un <code translate="No">&lt;channel&gt;</code> récipient.
      </li>
      <li>
        Créé un <code translate="No">&lt;item&gt;</code> entrée pour chaque vidéo, contenant les éléments souhaités du tableau ci-dessus.
        <p>Dans l'exemple suivant, le XML spécifie des métadonnées pour deux vidéos. Pour la première vidéo, le fichier et les vignettes se trouvent sur un serveur de téléchargement et sont extraits de ce serveur. Pour la deuxième vidéo, le fichier et la vignette ont déjà été téléchargés sur un serveur Ooyala. La deuxième vidéo a également des temps de vol.</p>
<pre class="line-numbers"><code class="language-xml">&lt;?xml version="1.0" encoding="utf-8"?&gt; &lt;rss version="2.0" xmlns:media="http://search.yahoo.com/mrss/" xmlns:dcterms="http:/ /purl.org/dc/terms/" xmlns:fh="http://purl.org/syndication/history/1.0" xmlns:ooyala="http://brightcove.com/mrss"&gt; &lt;channel&gt; &lt;item &gt; &lt;media:content url="http://mysite.com/upload/lacrosse_70.mov" /&gt; &lt;media:thumbnail url="http://mysite.com/upload/lacrosse_70_previewimage.jpg" /&gt; &lt;media : title&gt;Les sports qui existent vraiment : Lacrosse&lt;/media:title&gt; &lt;media:description&gt;Ma description de ma vidéo&lt;/media:description&gt; &lt;ooyala:labels&gt;/sports/lacrosse,/hobbies/lacrosse&lt;/ooyala:labels&gt; &lt;link&gt;http:// mysite.com/videos/sports/real_sports.html&lt;/link&gt; &lt;ooyala:metadata name="video_ID"&gt;70&lt;/ooyala:metadata&gt; &lt;ooyala:metadata name="season_number"&gt;1&lt;/ooyala:metadata&gt; &lt; /item&gt; &lt;item&gt; &lt;media:content url="curling_71.mov" /&gt; &lt;media:thumbnail url="curling_71_previewimage.jpg" /&gt; &lt;media:title&gt;Les sports qui existent vraiment : Curling&lt;/media:title&gt; &lt;media:description&gt;Ma description de ma vidéo&lt;/media:description&gt; &lt;ooyala:labels&gt;/sports/curling,/hobbies/curling&lt;/ooyala:labels&gt; &lt;link&gt;http:// mysite.com/videos/sports/real_sports.html&lt;/link&gt; &lt;ooyala:metadata name="video_ID"&gt;71&lt;/ooyala:metadata&gt; &lt;ooyala:metadata name="season_number"&gt;1&lt;/ooyala:metadata&gt; &lt; !-- définir les heures de vol --&gt; &lt;dcterms:valid&gt;start=2011-06-28T15:15:00-07:00 ; end=2022-12-01T16:00:00-07:00;scheme=W3C-DTF &lt;/dcterms:valid&gt; &lt;/item&gt; &lt;/channel&gt; &lt;/rss&gt;</code></pre>
      </li>
      <li>Enregistrez le fichier au format XML. Assurez-vous de spécifier un nom unique. Si vous spécifiez deux fichiers portant le même nom et que vous en téléchargez un pendant que l'autre est en cours de traitement, le second peut être ignoré</li>
      <li>
        Avec la méthode de téléchargement de votre choix, téléchargez le fichier manifeste XML sur votre serveur d'hébergement où vous avez téléchargé la ou les vidéos. <aside class="bcls-aside bcls-aside--information">N'oubliez pas que l'URL du manifeste XML doit correspondre exactement à ce que vous avez fourni à votre gestionnaire de compte.</aside>
      </li>
    </ol>
  </section>
</article>