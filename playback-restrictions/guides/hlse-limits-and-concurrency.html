---
title: Utilisation de HLSe avec les limites de périphérique et la simultanéité de flux
description: "Dans cette rubrique, vous apprendrez comment activer les limites de périphérique et limiter les flux simultanés à l'aide des restrictions de lecture HLSe et Brightcove."
parent: Guides 
grandparent: Playback Restrictions
---
 <h1>{{ page.title }}</h1>
<article class="bcls-article">
  <summary>{{ page.description }}</summary>
  
  <br/>
  <aside class="bcls-aside bcls-aside--tip">Cette fonctionnalité est disponible pour un ensemble spécifique de clients ayant accès à la phase de disponibilité limitée des restrictions de lecture Brightcove.</aside>
  
  <section class="bcls-section">
    <h2 id="Introduction">introduction</h2>
    <p>Si vous souhaitez limiter votre contenu par utilisateur, mais que vous n'avez pas besoin ou que vous ne souhaitez pas intégrer de DRM, l'utilisation de HLSe peut être la solution pour vous.</p>
    <p>Le cryptage standard utilisant AES-128 (HLSe) vous permet de crypter votre contenu sur Internet. Il n'est pas aussi sécurisé que l'utilisation de DRM car il utilise une clé de déchiffrement accessible au public.</p>
    <p>Utiliser HLSe avec <a href="/playback-restrictions/getting-started/overview-playback-restrictions.html#License_Keys_Protection">Protection par clé de licence de Brightcove</a> , vous permet d'autoriser les demandes de lecture en fonction des informations utilisateur ou avancées pour autoriser ou refuser l'accès aux clés de cryptage et améliorer la sécurité du cryptage standard.</p>

    <p>License Key Protection se concentre sur la protection des demandes de licence DRM ainsi que sur le décryptage AES-128. Les revendications JWT permettent à License Key Protection de prendre en charge les restrictions au niveau de l'utilisateur. Cela signifie que vous pouvez restreindre la lecture à un agent utilisateur, à un nombre maximum d'adresses IP différentes ou à un nombre maximum d'utilisateurs pour chaque jeton.</p>

    <p>Si vous débutez avec cette fonctionnalité, consultez le <a href="/playback-restrictions/getting-started/overview-playback-restrictions.html">Aperçu: Restrictions de lecture Brightcove</a> document.</p>

  </section>

  <section class="bcls-section">
    <h2 id="Getting_started">Commencer</h2>
    <p>
      Configurez votre compte et préparez votre contenu.
    </p>
    <ol class="bcls-tasklist">
      <li>Contactez votre gestionnaire de compte pour activer votre compte pour HLSe et les restrictions de lecture.</li>
      <li>
        Une fois HLSe activé pour votre compte, ingérez ou retranscodez les vidéos que vous souhaitez protéger.
      </li>
    </ol>
  </section>

  <section class="bcls-section">
    <h2 id="Workflow">Flux de travail</h2>
    <p>
      Pour définir des limites d'appareil ou la simultanéité de flux avec HLSe, procédez comme suit:
    </p>
    <ol class="bcls-tasklist-restart">
      <li>
        <p>Créer un <a href="https://general.support.brightcove.com/developer/create-json-web-token.html">Jeton Web JSON (JWT)</a> par utilisateur.</p>
        <p>Pour chaque session utilisateur, vous devez créer un JWT. Cela devrait être généré en fonction des restrictions souhaitées avec différentes revendications.</p>
        <ul>
          <li><p>Pour les limites d'appareils, consultez le <a href="#Setting_device_limits">Définir les limites de l'appareil</a> section.</p></li>
          <li>Pour la simultanéité de flux, consultez le <a href="#Setting_stream_concurrency">Définition de la simultanéité des flux</a> section.</li>
        </ul>
      </li>
      <li>
        <p>Configurez votre lecteur pour utiliser les protections de clé de licence.</p>
        Pour plus de détails, consultez le <a href="/playback-restrictions/getting-started/overview-playback-restrictions.html#License_Keys_Protection">Utilisation de la protection des clés de licence</a> section de l'aperçu: Document sur les restrictions de lecture Brightcove.
      </li>
    </ol>
  </section>

  <section class="bcls-section">
    <h2 id="Setting_device_limits">Définir les limites de l'appareil</h2>
    <p>Avec License Key Protection, vous pouvez limiter la lecture à un nombre défini d'appareils par utilisateur.</p>
    <h3>Réclamations</h3>
    <ul>
      <li>
        <p>:<code translate="No">maxip</code></p>
        Pour le contenu HLSe, le <code translate="No">maxip</code> La revendication définit le nombre d'adresses IP différentes pouvant être diffusées en même temps.
      </li>
    </ul>
    <h3>Exemple</h3>
    <p>Cet exemple crée un JWT pour restreindre la lecture à une adresse IP par utilisateur (un appareil par utilisateur):</p>
    <ol class="bcls-tasklist-restart">
      <li>
        <p>Générez une paire de clés publique-privée.</p>
        Pour plus de détails, consultez le <a href="https://general.support.brightcove.com/developer/create-json-web-token.html#Generate_public_private_key_pair">Générer une paire de clés publique-privée</a> section du document Création d'un jeton Web JSON (JWT).
      </li>
      <li>
        <p>Enregistrez votre clé publique.</p>
        Pour plus de détails, consultez le <a href="/playback-restrictions/guides/authentication-apis.html">Utilisation des API d'authentification</a> document.
      </li>
      <li>
        <p>Créez un jeton Web JSON.</p>
        <p>Voici un exemple utilisant bash. Assurez-vous d'ajouter le <code translate="No">"maxip":1</code> prétendre restreindre la lecture à une adresse IP (appareil) par utilisateur.</p>
        <pre class="line-numbers">
<code class="language-bash" translate="No">#! /usr/bin/env bash
  # Static header fields.
  HEADER='{
    &quot;type&quot;: &quot;JWT&quot;,
    &quot;alg&quot;: &quot;RS256&quot;
  }'
  
  payload='{
    &quot;pkid&quot;: &quot;<span class="bcls-input">your policy key</span>&quot;,
    &quot;accid&quot;: &quot;<span class="bcls-input">your account id</span>&quot;,
    <span class="bcls-highlight">&quot;maxip&quot;: 1</span>
  }'
  
  # Use jq to set the dynamic `iat` and `exp`
  # fields on the payload using the current time.
  # `iat` is set to now, and `exp` is now + 1 second.
  PAYLOAD=$(
    echo &quot;${payload}&quot; | jq --arg time_str &quot;$(date +%s)&quot; \
    '
    ($time_str | tonumber) as $time_num
    | .iat=$time_num
    | .exp=($time_num + 60 * 60)
    '
  )
  
  function b64enc() { openssl enc -base64 -A | tr '+/' '-_' | tr -d '='; }
  
  function rs_sign() { openssl dgst -binary -sha256 -sign {your_private_key_path} ; }
  
  JWT_HDR_B64=&quot;$(echo -n &quot;$HEADER&quot; | b64enc)&quot;
  JWT_PAY_B64=&quot;$(echo -n &quot;$PAYLOAD&quot; | b64enc)&quot;
  UNSIGNED_JWT=&quot;$JWT_HDR_B64.$JWT_PAY_B64&quot;
  SIGNATURE=$(echo -n &quot;$UNSIGNED_JWT&quot; | rs_sign | b64enc)
  
  echo &quot;$UNSIGNED_JWT.$SIGNATURE&quot;</code></pre>
        
      </li>
    </ol>
  </section>

  <section class="bcls-section">
    <h2 id="Setting_stream_concurrency">Définition de la simultanéité des flux</h2>
    <p>Bientôt disponible!</p>
    
  </section>

</article>