---
title: 'Obtenez un jeton d'accès'
description: 'Cet exemple récupère un jeton d'accès de l'API Brightcove OAuth à partir d'une application Web, en envoyant la demande via un proxy.'
parent: Code Samples 
grandparent: OAuth API
---
 <h1>{{ page.title }}</h1>
<article class="bcls-article">
  <summary>{{ page.description }}</summary>
  <section class="bcls-section">
    <h2 id="Introduction">introduction</h2>

    <p>L'obtention de jetons d'accès est une opération cruciale pour la plupart des travaux avec les API Brightcove, car la majorité d'entre elles utilisent des jetons d'accès pour authentifier les demandes.</p>

    <p>Pour une explication complète des jetons d'accès, voir <a href="/oauth/getting-started/overview-oauth-api-v4.html">comment fonctionne le service Brightcove OAuth</a> et <a href="/oauth/guides/getting-access-tokens.html">Obtenir des jetons d'accès</a>.</p>

    <p>Cet exemple vous montre comment obtenir un jeton d'accès à partir d'une application Web. Étant donné que l'API OAuth n'est pas compatible CORS et que les requêtes doivent être effectuées côté serveur, l'application envoie des informations à un proxy, qui effectue ensuite la requête API et renvoie la réponse au client. Le proxy ici est écrit en PHP, mais n'importe quel langage côté serveur fera l'affaire - il vous suffit de pouvoir envoyer une requête POST à l'application via Internet.</p>

    <aside class="bcls-aside bcls-aside--information">Cet exemple et le code associé sont fournis comme guide pour le développement de votre production. Le code n'est pas certifié pour une utilisation en production ni officiellement pris en charge.</aside>
  </section>

  <section class="bcls-section">
    <details>
      <summary>
        <h2 id="gettingCredentials">Obtenir des informations d'identification</h2>
      </summary>

      <p>Pour obtenir un <code translate="No">client_id</code> et <code translate="No">client_secret</code> , vous devrez accéder à l'interface utilisateur OAuth et enregistrer cette application :</p>

      <ul>
        <li><a href="/general/managing-api-authentication-credentials.html">Gestion des informations d'authentification API</a></li>
      </ul>

      <p>Ceux-ci choisissent les autorisations dont vous aurez besoin pour l'API que vous allez utiliser :</p>

      <figure class="bcls-figure"><img class="bcls-image" alt="API Permissions" src="/assets/images/oauth/guides/studio-api-operations.png" />
        <figcaption class="bcls-caption--image">Autorisations API</figcaption>
      </figure>

      <p>Vous pouvez également obtenir vos informations d'identification via CURL ou Postman - voir :</p>

      <ul>
        <li><a href="/oauth/guides/oauth-create-client-credentials-using-curl.html">Obtenir les informations d'identification du client à l'aide de CURL</a></li>
        <li><a href="/oauth/guides/oauth-create-client-credentials-using-postman.html">Obtenez les informations d'identification du client à l'aide de Postman</a></li>
      </ul>

      <p>Si vous obtenez des informations d'identification directement à partir de l'API OAuth, consultez <a href="/oauth/guides/api-operations-client-credentials-requests.html">Opérations d'API pour les demandes d'informations d'identification client</a> pour les autorisations dont vous avez besoin pour différentes opérations d'API.</p>
    </details>
  </section>

  <section class="bcls-section">
    <h2 id="get_access_token_app">Obtenir l'application de jeton d'accès</h2>
    <h3>Code source</h3>
    <p>Retrouvez tout le code associé à cet exemple dans ce <a href="https://github.com/BrightcoveLearning/18520-oauth-api-sample-get-access-token">Dépôt GitHub</a>.</p>
    <h3>Exemple d'application</h3>
    <p data-height="800" data-theme-id="34967" data-slug-hash="LmxBMG" data-default-tab="result" data-user="rcrooks1969" data-embed-version="2" data-pen-title="OAuth API Sample: Get an Access Token" class="codepen">Voir le stylo <a href="https://codepen.io/team/rcrooks1969/pen/LmxBMG/">Exemple d'API OAuth : Obtenez un jeton d'accès</a> par Brightcove Learning Services (<a href="https://codepen.io/rcrooks1969">@rcrooks1969</a> ) au <a href="https://codepen.io">Stylo de code</a>.</p>
    <script async src="https://static.codepen.io/assets/embed/ei.js"></script>
  </section>

  <section class="bcls-section">
    <details>
      <summary>
        <h2 id="Using_the_CodePen">Utiliser le CodePen</h2>
      </summary>

      <p>Voici quelques conseils pour utiliser efficacement le CodePen ci-dessus :</p>

      <ul>
        <li>Basculez l'affichage réel du lecteur en cliquant sur le bouton <strong>Résultat</strong> bouton.</li>
        <li>Clique le <strong>HTML/CSS/JS</strong> pour afficher UN des types de code.</li>
        <li>Cliquez sur <strong>Modifier sur CodePen</strong> dans le coin supérieur droit pour insérer ce CodePen dans votre propre compte.</li>
        <li>Retrouvez tout le code associé à cet exemple dans ce <a href="https://github.com/BrightcoveLearning/18520-oauth-api-sample-get-access-token">Dépôt GitHub</a>.</li>
      </ul>
    </details>
  </section>

  <section class="bcls-section">
    <h2 id="proxy">Code proxy</h2>

    <p>Afin de créer votre propre version de l'exemple d'application sur cette page, vous devez créer et héberger votre propre proxy. (Les proxys utilisés par Brightcove Learning Services n'acceptent que les demandes des domaines Brightcove.) Une version du code proxy sans les restrictions d'origine est présentée ci-dessous.</p>

    <pre class="line-numbers">
    <code class="language-php">&lt;?php /** * access-token-proxy.php - proxy pour les API RESTful Brightcove * obtient un jeton d'accès et le renvoie * Accès : * (notez que vous devez *toujours* accéder au proxy via HTTPS) * Méthode : POSTER * * @poster {string} client_id - ID client OAuth2 avec des autorisations suffisantes pour la demande * @post {string} client_secret - Secret client OAuth2 avec des autorisations suffisantes pour la demande * * @returns {string} $response - Réponse JSON reçue de l'API OAuth */ // Activation CORS et autres en-têtes header("Access-Control-Allow-Origin: *"); header("Type de contenu : application/json" ); header("X-Content-Type-Options: nosniff"); header("X-XSS-Protection"); // notez que si vous utilisez ce proxy pour un seul identifiant // vous pouvez simplement coder en dur l'ID client et le secret ci-dessous au lieu de les transmettre $client_id = $_POST["client_id"]; $client_secret = $_POST["client_secret"] ; $ chaîne_auth = "{$client_id}:{$client_secret}"; $request = "https://oauth.brightcove.com/v4/access_token?grant_type=client_credentials"; $ch = curl_init($request); curl_setopt_array($ch, array( CURLOPT_POST =&gt; TRUE, CURLOPT_RETURNTRANSFER =&gt; TRUE , CURLOPT_SSL_VERIFYPEER =&gt; FALSE, CURLOPT_USERPWD =&gt; $auth_string, CURLOPT_HTTPHEADER =&gt; array( 'Content-type: application/x-www-form-urlencoded', ) )); $response = curl_exec($ch); curl_close($ch ); // Vérifier les erreurs if ($response === FALSE) { die(curl_error($ch)); echo 'An error occurred'; } autre { echo $response; } ?&gt; </code></pre>
  </section>
</article>