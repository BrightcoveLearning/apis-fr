---
title: 'Créer des informations d'identification client'
description: 'Cet exemple vous permet de créer des informations d'identification client pour un ou plusieurs comptes, en leur attribuant les autorisations d'API que vous choisissez.'
parent: Code Samples 
grandparent: OAuth API
---
 <h1>{{ page.title }}</h1>
<article class="bcls-article">
  <summary>{{ page.description }}</summary>
  <section class="bcls-section">
    <h2 id="Introduction">introduction</h2>

    <p>L'obtention des informations d'identification du client est une condition préalable à l'obtention des jetons d'accès, que la majorité des API Brightcove utilisent pour authentifier les demandes.</p>

    <p>Pour une explication complète des informations d'identification du client, voir <a href="/oauth/getting-started/overview-oauth-api-v4.html">comment fonctionne le service Brightcove OAuth</a>.</p>

    <p>Cet exemple vous montre comment obtenir les informations d'identification client à partir d'une application Web. Étant donné que l'API OAuth n'est pas compatible CORS et que les requêtes doivent être effectuées côté serveur, l'application envoie les informations nécessaires à un proxy, qui effectue ensuite la requête API et renvoie la réponse au client. Le proxy ici est écrit en PHP, mais n'importe quel langage côté serveur fera l'affaire - il vous suffit de pouvoir envoyer une requête POST à l'application via Internet.</p>

    <aside class="bcls-aside bcls-aside--information">Cet exemple et le code associé sont fournis comme guide pour le développement de votre production. Le code n'est pas certifié pour une utilisation en production ni officiellement pris en charge.</aside>
  </section>

  <section class="bcls-section">
    <details>
      <summary>
        <h2 id="gettingCredentials">Obtenir votre BC_TOKEN</h2>
      </summary>

      <p>Pour obtenir un <code translate="No">client_id</code> et <code translate="No">client_secret</code> via l'API OAuth, vous aurez besoin d'un <code translate="No">BC_TOKEN</code> pour authentifier votre demande. Votre BC_TOKEN est défini comme un cookie lorsque vous vous connectez à Studio. Vous pouvez obtenir ce cookie comme vous le souhaitez, mais pour faciliter les choses, nous avons créé l'extrait de code JavaScript suivant : vous pouvez le coller dans la console développeur lorsque vous êtes connecté à Studio, appuyez sur <strong>revenir</strong> , et une invite apparaîtra contenant le BC_TOKEN :</p>
      <textarea class="bcls-code">var cookiesArray = document.cookie.split(";"), cookiesObj = {} , je, tmpArray = []; pour (i = 0; i &lt; cookiesTableau.length; i++) { tmpArray = cookiesArray[i].split("="); if (tmpArray[0].indexOf('BC_TOKEN') &gt; -1) { cookiesObj.BC_TOKEN = tmpArray[1]; } } window.prompt("BC_TOKEN:", cookiesObj.BC_TOKEN);</textarea>

      <aside class="bcls-aside bcls-aside--information">Notez que vous devez être un administrateur de votre compte (ou obtenir un BC_TOKEN d'administrateur) afin de créer des informations d'identification client. Si vous n'avez pas d'administrateur BC_TOKEN, la requête ci-dessous renverra une erreur.</aside>
    </details>
  </section>

  <section class="bcls-section">
    <h2 id="get_credentials_app">Obtenir l'application d'identification</h2>
    <h3>Code source</h3>
    <p>Retrouvez tout le code associé à cet exemple dans ce <a href="https://github.com/BrightcoveLearning/18521-oauth-api-sample-create-client-credentials">Dépôt GitHub</a>.</p>
    <h3>Exemple d'application</h3>
    <p class="codepen" data-height="1800" data-theme-id="0" data-default-tab="result" data-user="rcrooks1969" data-slug-hash="BxpxXe" style="height: 265px; box-sizing: border-box; display: flex; align-items: center; justify-content: center; border: 2px solid; margin: 1em 0; padding: 1em;" data-pen-title="OAuth API Sample: Create Client Credentials"><span>Voir le stylo <a href="https://codepen.io/team/rcrooks1969/pen/BxpxXe/"> Exemple d'API OAuth : Créer des informations d'identification client</a> par Brightcove Learning Services (<a href="https://codepen.io/rcrooks1969">@rcrooks1969</a> ) au <a href="https://codepen.io">Stylo de code</a>.</span></p>
    <script async src="https://static.codepen.io/assets/embed/ei.js"></script>

    <section class="bcls-section">
      <details>
        <summary>
          <h2 id="Using_the_CodePen">Utiliser le CodePen</h2>
        </summary>

        <p>Voici quelques conseils pour utiliser efficacement le CodePen ci-dessus :</p>

        <ul>
          <li>Basculez l'affichage réel du lecteur en cliquant sur le bouton <strong>Résultat</strong> bouton.</li>
          <li>Clique le <strong>HTML/CSS/JS</strong> pour afficher UN des types de code.</li>
          <li>Cliquez sur <strong>Modifier sur CodePen</strong> dans le coin supérieur droit pour insérer ce CodePen dans votre propre compte.</li>
          <li>Retrouvez tout le code associé à cet exemple dans ce <a href="https://github.com/BrightcoveLearning/18521-oauth-api-sample-create-client-credentials">Dépôt GitHub</a>.</li>
        </ul>
      </details>
    </section>

    <section class="bcls-section">
      <h2 id="proxy">Code proxy</h2>

      <p>Afin de créer votre propre version de l'exemple d'application sur cette page, vous devez créer et héberger votre propre proxy. Ce proxy est quelque peu différent du proxy utilisé pour la plupart de nos exemples d'applications, car l'authentification pour la méthode API OAuth pour la création d'informations d'identification client est différente de celle pour l'authentification API générale. Le code complet du proxy utilisé ici est indiqué ci-dessous.</p>

      <pre class="line-numbers">
        <code class="language-php">&lt;?php /** * client-credentials-proxy.php - proxy pour les API RESTful Brightcove * obtient un identifiant client et un secret client et renvoie l'intégralité de la réponse * Accès : * (notez que vous devez *toujours* accéder au proxy via HTTPS) * Méthode: POSTER * * @poster {string} bc_token - BC_TOKEN avec des autorisations d'administrateur sur tous les comptes pour lesquels des informations d'identification sont demandées * @post {JSONstring} requestBody - le corps complet de la requête sous forme de chaîne JSON * * @returns {string} $response - Réponse JSON reçue de l'API OAuth */ // contrôles de sécurité if (strpos($_SERVER['HTTP_REFERER'], 'solutions.brightcove.com') == false &amp;&amp; strpos($_SERVER['HTTP_REFERER'], 'ondemand.brightcovelearning.com') == false &amp;&amp; strpos($_SERVER['HTTP_REFERER'], 'video.brightcovelearning.com') == false &amp;&amp; strpos($_SERVER['HTTP_REFERER'], 's.codepen.io ') == false &amp;&amp; strpos($_SERVER['HTTP_REFERER'], 'fiddle.jshell.net') == false &amp;&amp; strpos($_SERVER['HTTP_REFERER'], 'players.brightcove.net') == false &amp;&amp; strpos($_SERVER['HTTP_REFERER'], 'support.brightcove.com') == false &amp;&amp; strpos($_SERVER['HTTP_REFERER'], 'master-7rqtwti-6sglloa4yrkti.us.platform.sh') == false) { exit('{"ERROR":"Only requests from http://docs.brightcove.com or http:solutions.brightcove.com are accepted by this proxy"}'); } // Activation CORS et autres en-têtes header("Access-Control-Allow-Origin: *"); header("Type de contenu : application/json" ); header("X-Content-Type-Options: nosniff"); header("X-XSS-Protection"); // obtenir des données ou mourir si ($_POST["requestBody"]) { $data = json_decode($_POST["requestBody"]); } autre { exit("request body missing"); } // obtient le type de requête ou par défaut à POST si ($_POST["requestType"]) { $method = $_POST["requestType"]; } autre { $method = 'POST'; } // obtenir bc_token ou mourir si ($_POST["bc_token"]) { $bc_token = $_POST["bc_token"]; } autre { exit("bc_token missing"); } $request = "https://oauth.brightcove.com/v4/client_credentials" ; $ch = curl_init($request); curl_setopt_array($ch, array( CURLOPT_CUSTOMREQUEST =&gt; $method, CURLOPT_RETURNTRANSFER =&gt; TRUE, CURLOPT_SSL_VERIFYPEER =&gt; FALSE, CURLOPT_HTTPHEADER =&gt; array( 'Content-type: application/json', " BC_TOKEN {$bc_token} " ), CURLOPT_POSTFIELDS =&gt; json_encode($data) )); $response = curl_exec($ch); curl_close($ch); // Vérifier les erreurs si ($response === FALSE) { die(curl_error($ch)); exit('An error occurred on making the request'); } autre { echo $response; } ?&gt; </code></pre>
    </section>
  </section>
</article>