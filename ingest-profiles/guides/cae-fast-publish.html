---
title: 'Publication rapide de CAE'
description: "L'encodage contextuel (CAE) donne d'excellents rendus, mais l'analyse de la vidéo source ajoute du temps au traitement. Si la mise en ligne de nouvelles vidéos le plus rapidement possible est une priorité pour vous, l'option de publication rapide décrite dans ce document vous permet de publier des vidéos rapidement tout en profitant de la CAE."
parent: Guides 
grandparent: Ingest Profiles API
---
 <h1>{{ page.title }}</h1>
<article class="bcls-article">
  <summary>{{ page.description }}</summary>
  <section class="bcls-section">
    <h2 id="introduction">introduction</h2>
    
    <p>La publication rapide vous permet d'utiliser <a href="/dynamic-ingest/ingest-guides/context-aware-encoding.html">CAE</a> et continuez à mettre des vidéos en ligne le plus rapidement possible en créant un ou plusieurs rendus temporaires qui peuvent être lus immédiatement. Les conditions suivantes s'appliquent alors :</p>
    
    <ul>
      <li>Dès que les rendus dynamiques seront disponibles, ils seront utilisés plutôt que les rendus temporaires pour la lecture</li>
      <li>À un moment donné, une fois tous les rendus dynamiques traités, le ou les rendus temporaires seront automatiquement supprimés</li>
    </ul>
    
    <section class="bcls-section">
    <h2 id="requirements">Conditions</h2>
    
    <p>Pour utiliser la publication rapide, vous devez:</p>
    
    <ol>
      <li>Avoir un compte activé pour <a href="/dynamic-ingest/getting-started/overview-dynamic-ingest-api-dynamic-delivery.html">Livraison dynamique</a></li>
      <li>Avoir le compte activé pour <a href="/dynamic-ingest/ingest-guides/context-aware-encoding.html">CAE</a></li>
      <li>Créez un profil d'ingestion CAE personnalisé à l'aide du <a href="/ingest-profiles/">Ingérer Ingest Profiles API</a> (instructions <a href="#create_fast_publish_profile">au dessous de</a>)</li>
    </ol>
    </section>
    
    <section class="bcls-section">
    <h2 id="custom_profile_for_fast_publish">Profil personnalisé pour une publication rapide</h2>
    
    <p>La création d'un profil personnalisé activé pour une publication rapide est simple. Il ressemble à un profil CAE classique, à une différence près : en plus d'un <code translate="No">renditions</code> tableau, le <code translate="No">dynamic_origin</code> l'objet contiendra un <code translate="No">temporary_renditions</code> tableau contenant un ou plusieurs rendus de publication rapide.</p>
    
    <p>Les rendus de publication rapide sont spécifiés par nom et <strong>doit</strong> proviennent de la liste ci-dessous (le numéro suivant <strong>vidéo ou audio</strong> est le débit cible pour le rendu). Vous pouvez inclure des rendus audio uniquement en plus des rendus vidéo si vous le souhaitez.</p>
    <!-- list is generated from scripts linked at bottom of page -->
    
    <ul id="renditionList">
    </ul>
    
    <p>Étant donné que le but de la publication rapide est de rendre un rendu disponible pour la lecture le plus rapidement possible, il est probablement logique d'utiliser un débit binaire faible à moyen pour au moins un des rendus temporaires.</p>
    
    <h3>Étapes pour créer un profil personnalisé</h3>
    
    <p>Voici les étapes pour créer un profil de publication rapide personnalisé avec un rendu temporaire. Dans les étapes ci-dessous, nous utiliserons le <a href="https://studio.support.brightcove.com/general/overview-digital-rights-management-drm-video-cloud.html#multi-platform-standard-dynamic"><code translate="No">multi-platform-standard-dynamic</code></a> profil standard comme base du profil personnalisé, mais vous pouvez utiliser l'un des <strong>CAE</strong> profils.</p>
    
    <aside class="bcls-aside bcls-aside--information">Vous pouvez créer autant de profils personnalisés que vous le souhaitez en utilisant la procédure ci-dessous, mais nous vous recommandons de n'en créer que ce dont vous avez vraiment besoin pour éviter toute confusion et erreurs d'utilisateur.</aside>
    
    <h4>Obtenir les informations d'identification du client pour l'API Ingest Profiles</h4>
    
    <ol class="bcls-tasklist">
      <li>Connectez-vous à Studio et accédez au <a href="https://studio.brightcove.com/products/videocloud/admin/oauthsettings">Section Authentification API</a> sous Admin (vous devez être un administrateur ou obtenir un administrateur sur le compte pour le faire)</li>
      <li>Cliquez sur <strong>Enregistrer une nouvelle demande</strong> pour créer un nouvel ensemble d'informations d'identification client.</li>
      <li>Sélectionnez le(s) compte(s) approprié(s) et <em>au moins</em> ces autorisations pour les informations d'identification:
      <figure class="bcls-figure"><img class="bcls-image" alt="Ingestion Profiles Permissions" src="/assets/images/ingest-profiles/guides/ingest-profiles-permissions.png" />
      <figcaption class="bcls-caption--image">Autorisations des profils d'ingestion</figcaption>
      </figure>
      </li>
      <li>Sauver la <strong>identité du client</strong> et <strong>Secret du client</strong> car vous en aurez besoin pour les étapes ultérieures.</li>
    </ol>
    
    <h4>Créer le JSON pour le profil personnalisé</h4>
    
    <ol class="bcls-tasklist">
      <li>Copiez le JSON ci-dessous (pour le <strong>multi-plateforme-standard-dynamique</strong> profile) dans un éditeur de texte:
    
      <pre class="line-numbers">
    <code class="language-json" translate="No">{
          "name": "multi-platform-standard-dynamic",
          "display_name": "Multiplatform Standard (CAE)",
          "description": "Deliver a wide range of content types across a variety of platforms on mobile and desktop.",
          "account_id": <span class="bcls-input">YOUR_ACCOUNT_ID</span>,
          "digital_master": {
            "rendition": "passthrough",
            "distribute": false
          },
          "renditions": [],
          "packages": [],
          "dynamic_origin": {
            "renditions": [
              "default/audio64",
              "default/audio128",
              "default/audio96"
            ],
            "images": [
              {
                "label": "thumbnail",
                "height": 90,
                "width": 160
              },
              {
                "label": "poster",
                "height": 720,
                "width": 1280
              }
            ],
            "dynamic_profile_options": {
              "min_renditions": 2,
              "max_renditions": 6,
              "min_resolution": {
                "width": 320,
                "height": 180
              },
              "max_resolution": {
                "width": 1280,
                "height": 720
              },
              "max_frame_rate": 30,
              "max_bitrate": 2400,
              "max_first_rendition_bitrate": 250,
              "keyframe_rate": 0.5,
              "select_baseline_profile_configuration": true
            }
          }
        }</code></pre>
      </li>
      <li>Modifiez les valeurs suivantes:
      <ul>
        <li><code translate="No">name</code>: "multi-plateforme-standard-dynamique-rapide-publier"</li>
        <li>:<code translate="No">display_name</code> "Norme de publication rapide (CAE)"</li>
        <li>:<code translate="No">account_id</code> "YOUR_ACCOUNT_ID"</li>
      </ul>
      </li>
      <li>Après le <code translate="No">dynamic_origin&gt;renditions</code> tableau, ajoutez le tableau suivant:
      <pre class="line-numbers">
    <code class="language-json" translate="No">"temporary_renditions": [
      {"name": "default/video450"},
      {"name": "default/video700"},
      {"name": "default/video900"}
    ]</code></pre>
      </li>
      <li>Le JSON complet de votre profil personnalisé devrait maintenant ressembler à ceci:
      <pre class="line-numbers">
    <code class="language-json" translate="No">{
      "name": "multi-platform-standard-dynamic-fast-publish",
      "display_name": "Fast Publish Standard (CAE)",
      "description": "Deliver a wide range of content types across a variety of platforms on mobile and desktop.",
      "account_id": "<span class="bcls-input">account_id</span>",
      "digital_master": {
        "rendition": "passthrough",
        "distribute": false
      },
      "renditions": [],
      "packages": [],
      "dynamic_origin": {
        "renditions": [
          "default/audio64",
          "default/audio128",
          "default/audio96"
        ],
        "temporary_renditions": [
          {"name": "default/video450"},
          {"name": "default/video700"},
          {"name": "default/video900"}
        ],
        "images": [
          {
            "label": "thumbnail",
            "height": 90,
            "width": 160
          },
          {
            "label": "poster",
            "height": 720,
            "width": 1280
          }
        ],
        "dynamic_profile_options": {
          "min_renditions": 2,
          "max_renditions": 6,
          "min_resolution": {
            "width": 320,
            "height": 180
          },
          "max_resolution": {
            "width": 1280,
            "height": 720
          },
          "max_frame_rate": 30,
          "max_bitrate": 2400,
          "max_first_rendition_bitrate": 250,
          "keyframe_rate": 0.5,
          "select_baseline_profile_configuration": true
        }
      }
    }</code></pre>
      </li>
    </ol>
    
    <h4>Ajouter le profil personnalisé à votre compte</h4>
    
    <p>Nous allons maintenant utiliser l'API Ingest Profiles pour ajouter le profil personnalisé à votre compte.</p>
    
    <aside class="bcls-aside bcls-aside--information">Vous pouvez utiliser n'importe quel outil que vous utilisez normalement pour faire des demandes d'API REST - si vous avez besoin d'aide pour configurer cette configuration, consultez nos guides d'utilisation <a href="/general/use-insomnia-api-requests.html">Insomnie</a> , <a href="/general/use-postman-api-requests.html">Facteur</a> , ou <a href="https://general.support.brightcove.com/developer/concepts-set-curl.html">boucle</a>.</aside>
    
    <h5>Obtenir des jetons d'accès</h5>
    
    <p>Chaque demande d'API doit être authentifiée à l'aide d'un jeton d'accès (vous verrez exactement comment dans les étapes ultérieures).</p>
    
    <ol class="bcls-tasklist">
      <li>Tu devras <a href="/oauth/guides/getting-access-tokens.html">obtenir un jeton d'accès</a> de:
    
      <pre>
    <code class="language-http" translate="No">https://oauth.brightcove.com/v4/access_token</code></pre>
      </li>
      <li>Si vous utilisez <a href="/general/use-insomnia-api-requests.html">Insomnie</a> ou <a href="/general/use-postman-api-requests.html">Facteur</a> , vous pouvez alors configurer l'authentification OAuth2 à l'aide des instructions des documents liés pour qu'ils récupèrent les jetons d'accès pour vous.</li>
      <li>Si vous utilisez cURL, voici une commande cURL que vous pouvez utiliser pour obtenir un jeton d'accès - vous devrez remplacer le <code translate="No">ENCODED_AUTHENTICATION_STRING</code> avec une chaîne encodée en Base64 composée de votre <code translate="No">client_id:client_secret:</code>
      <pre class="line-numbers">
    <code class="language-bash" translate="No">curl --request POST \
      --url 'https://oauth.brightcove.com/v4/access_token?grant_type=client_credentials' \
      --header 'Authorization: Basic <span class="bcls-input">ENCODED_AUTHENTICATION_STRING</span>' \
      --header 'Content-Type: application/x-www-form-urlencoded'</code></pre>
    
      <aside class="bcls-aside bcls-aside--information">Vous pouvez utiliser <a href="https://general.support.brightcove.com/utilities/base-64-encoding-tool.html">cet utilitaire</a> pour obtenir votre chaîne d'authentification codée en Base64.</aside>
      </li>
      <li>Notez que les jetons d'accès expirent au bout de 5 minutes - si cela se produit, obtenez-en un nouveau (Insomnia en recevra un automatiquement pour vous en cas de besoin).</li>
    </ol>
    
    <h5>Ajouter le profil d'ingestion personnalisé</h5>
    
    <ol class="bcls-tasklist">
      <li>Si vous utilisez <a href="/general/use-insomnia-api-requests.html">Insomnie</a> ou <a href="/general/use-postman-api-requests.html">Facteur</a> , configurez une nouvelle requête POST pour:
    
      <pre>
    <code class="language-http" translate="No">https://ingestion.api.brightcove.com/v1/accounts/<span class="bcls-input">account_id</span>/profiles</code></pre>
    
      <p>Le corps de la demande sera le JSON du profil personnalisé que vous avez créé précédemment.</p>
    
      <p>Inclure un <code translate="No">Content-Type: application/json</code> entête</p>
    
      <p>Configurez l'authentification OAuth2 conformément aux instructions des guides d'utilisation d'Insomnia ou de Postman.</p>
      </li>
      <li>Si vous utilisez cURL, vous pouvez utiliser la requête suivante, en remplaçant les valeurs account_id et access token par les vôtres:
      <pre class="line-numbers">
    <code class="language-bash" translate="No">curl --request POST \
      --url https://ingestion.api.brightcove.com/v1/accounts/57838016001/profiles \
      --header 'authorization: Bearer <span class="bcls-input">YOUR_ACCESS_TOKEN</span>' \
      --header 'content-type: application/json' \
      --data '{
      "name": "multi-platform-standard-dynamic-fast-publish",
      "display_name": "Fast Publish Standard (CAE)",
      "description": "Deliver a wide range of content types across a variety of platforms on mobile and desktop.",
      "account_id": "<span class="bcls-input">YOUR_ACCOUNT_ID</span>",
      "digital_master": {
        "rendition": "passthrough",
        "distribute": false
      },
      "renditions": [],
      "packages": [],
      "dynamic_origin": {
        "renditions": [
          "default/audio64",
          "default/audio128",
          "default/audio96"
        ],
        "temporary_renditions": [
          {"name": "default/video450"},
          {"name": "default/video700"},
          {"name": "default/video900"}
        ],
        "images": [
          {
            "label": "thumbnail",
            "height": 90,
            "width": 160
          },
          {
            "label": "poster",
            "height": 720,
            "width": 1280
          }
        ],
        "dynamic_profile_options": {
          "min_renditions": 2,
          "max_renditions": 6,
          "min_resolution": {
            "width": 320,
            "height": 180
          },
          "max_resolution": {
            "width": 1280,
            "height": 720
          },
          "max_frame_rate": 30,
          "max_bitrate": 2400,
          "max_first_rendition_bitrate": 250,
          "keyframe_rate": 0.5,
          "select_baseline_profile_configuration": true
        }
      }
    }'</code></pre>
      </li>
      <li>Après avoir envoyé la demande, vous devriez voir votre nouveau profil vous être renvoyé dans la réponse.</li>
    </ol>
    </section>
    
    <section class="bcls-section">
    <h2 id="notifications">Notifications</h2>
    
    <p>Lorsque des rendus temporaires à publication rapide sont créés, vous recevrez <code translate="No">DYNAMIC_RENDITION</code> Notifications « CRÉER » comme vous le faites pour les rendus normaux:</p>
    
    <pre class="line-numbers">
    <code class="language-json" translate="No">{
      "entity": "contextAwareEncoding5",
      "entityType": "DYNAMIC_RENDITION",
      "version": "1",
      "action": "CREATE",
      "jobId": "413a9938-6d73-478c-b4d9-fdeb45927a4b",
      "videoId": "5600255921001",
      "dynamicRenditionId": "contextAwareEncoding5",
      "bitrate": 364,
      "width": 512,
      "height": 384,
      "accountId": "1910141566001",
      "status": "SUCCESS"
    }
    </code></pre>
    
    <p>Une nouvelle notification sera envoyée lorsqu'un rendu temporaire a été supprimé:</p>
    
    <pre class="line-numbers">
    <code class="language-json" translate="No">{
      "entity": "fastpublishRendition1",
      "entityType": "DYNAMIC_RENDITION",
      "version": "1",
      "action": "DELETE",
      "jobId": "413a9938-6d73-478c-b4d9-fdeb45927a4b",
      "videoId": "5600255921001",
      "dynamicRenditionId": "fastpublishRendition1",
      "accountId": "1910141566001",
      "status": "SUCCESS"
    }
    </code></pre>
    </section>
    </section>
    </article>
    <script src="/assets/js/ingest-profiles/guides/boltrenditions-list.js"></script>
    <script src="/assets/js/ingest-profiles/guides/fast-publish.js"></script>