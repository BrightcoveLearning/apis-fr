---
title: 'Rapport sur le contenu audio uniquement'
description: 'Si vous avez du contenu audio uniquement dans votre vidéothèque, vous trouverez peut-être utile d'exécuter un rapport affichant uniquement ces vidéos audio uniquement. Cet exemple vous montre comment procéder.'

parent: 'Code Samples' 
grandparent: CMS API
---
 <h1>{{ page.title }}</h1>
<article class="bcls-article">
  <summary>{{ page.description }}</summary>
  <section class="bcls-section">
    <h2 id="Introduction">introduction</h2>

    <aside class="bcls-aside bcls-aside--information">Cet exemple et le code associé sont fournis comme guide pour le développement de votre production. Le code n'est pas certifié pour une utilisation en production ni officiellement pris en charge.</aside>

    <p>Video Cloud vous permet d'utiliser du contenu uniquement audio sous forme de vidéos sans piste vidéo. Cependant, il ne signale en aucun cas ces vidéos comme "audio uniquement". Par conséquent, si vous disposez d'une grande bibliothèque de contenus audio et vidéo mixtes, il peut ne pas être évident de créer un rapport sur votre contenu uniquement audio.</p>

    <p>Il existe des propriétés dans les rendus qui vous indiqueront s'il s'agit uniquement d'audio, mais les propriétés sont différentes pour les vidéos qui ont été ingérées à l'aide du système d'acquisition hérité ou à l'aide du système Dynamic Delivery :</p>

    <ul>
      <li>Pour les anciennes vidéos d'ingestion, chaque rendu aura un <code translate="No">audio_only</code> propriété qui est un booléen</li>
      <li>Pour les vidéos Dynamic Delivery, chaque rendu aura un <code translate="No">media_type</code> propriété qui sera définie sur <code translate="No">audio</code> ou <code translate="No">video</code></li>
    </ul>

    <p>Dans l'exemple d'application ici, nous utilisons une fonction qui vérifie les deux cas :</p>

    <pre class="line-numbers">
        <code class="language-javascript" translate="No">function isAudio(rendition) {
          if (rendition.hasOwnProperty('audio_only') &amp;&amp; rendition.audio_only === false) {
            return false;
          } else if (rendition.hasOwnProperty('media_type') &amp;&amp; rendition.media_type === 'video') {
            return false;
          }
          return true;
        }</code></pre>

    <h3>Remarques sur cet échantillon</h3>

    <ul>
      <li>Toute vidéo dans Video Cloud peut avoir des rendus audio uniquement. Cet exemple identifie le contenu qui a <strong>seul</strong> rendus audio, et vérifie donc chaque rendu. Il serait simple de modifier le code pour produire un rapport sur le contenu comportant au moins un rendu audio uniquement. C'est la seule modification que vous devez apporter à l'exemple de code :

        <p>Code existant (à trouver sur du contenu audio uniquement) :</p>

        <pre class="line-numbers">
        <code class="language-javascript" translate="No">function processRenditions(video, renditions) {
            var i,
              iMax = renditions.length,
              audioRenditions = 0;
            if (video.id === '5831706803001') {}
            // separate renditions by type
            for (i = 0; i &lt; iMax; i++) {
              if (isAudio(renditions[i])) {
                audioRenditions++;
              } else {
                // if any non-audio renditions, stop
                break;
              }
            }
            // check to see if all renditions are audio
            if (audioRenditions === renditions.length) {
              video.renditionCount = audioRenditions;
              audiosArray.push(video);
              return;
            } else {
              return;
            }
          }</code></pre>

        <p>Version de la fonction permettant d'identifier tout contenu comportant des rendus uniquement audio :</p>

        <pre class="line-numbers">
        <code class="language-javascript" translate="No">function processRenditions(video, renditions) {
            var i,
              iMax = renditions.length,
              audioRenditions = 0;
            if (video.id === '5831706803001') {}
            // separate renditions by type
            for (i = 0; i &lt; iMax; i++) {
              if (isAudio(renditions[i])) {
                audioRenditions++;
              }
            }
            // check to see if any renditions are audio
            if (audioRenditions &gt; renditions.length) {
              video.renditionCount = audioRenditions;
              audiosArray.push(video);
              return;
            } else {
              return;
            }
          }</code></pre>
      </li>
      <li>Le contenu de l'actif distant est <strong>ne pas</strong> vérifié pour voir s'il s'agit uniquement d'audio.</li>
    </ul>
  </section>

  <section class="bcls-section">
    <details>
      <summary>
        <h2 id="getCredentials">Obtenir des informations d'identification</h2>
      </summary>

      <p>Pour utiliser le <span translate="No">API CMS</span> vous aurez besoin des informations d'identification appropriées.</p>

      <p>Le moyen le plus simple d'obtenir des informations d'identification dans la plupart des cas consiste à utiliser la section Authentification de l'API d'administration de Studio (nécessite des autorisations d'administrateur sur votre compte). Voir <a href="/general/managing-api-authentication-credentials.html">Gestion des informations d'authentification API</a> pour les détails. Dans la plupart des cas, vous souhaitez probablement simplement obtenir des autorisations pour tous <span translate="No">API CMS</span> opération:</p>

      <figure class="bcls-figure"><img class="bcls-image" alt="CMS API Permissions" src="//learning-services-media.brightcove.com/doc-assets/video-cloud-apis/cms-api/cms-permissions.png" />
        <figcaption class="bcls-caption--image">Autorisations API CMS</figcaption>
      </figure>

      <p>Si les autorisations dont vous avez besoin ne sont pas disponibles dans Studio, ou si vous préférez les obtenir directement à partir de l'API OAuth, utilisez votre choix de <strong>Obtenir les informations d'identification du client</strong> documents énumérés ci-dessous. Quelle que soit l'option que vous choisissez, vous devrez demander les autorisations de fonctionnement correctes. Les éléments suivants peuvent être utilisés avec cURL ou Postman pour obtenir toutes les autorisations pour l'API CMS :</p>

      <pre class="line-numbers">
          <code class="language-json" translate="No">"operations": [
            "video-cloud/video/all",
            "video-cloud/playlist/all",
            "video-cloud/sharing-relationships/all",
            "video-cloud/notifications/all"
          ]</code></pre>

      <ul>
        <li><a href="/oauth/guides/oauth-create-client-credentials-using-curl.html">OAuth : Obtenir les informations d'identification du client à l'aide de cURL</a></li>
        <li><a href="/oauth/guides/oauth-create-client-credentials-using-postman.html">OAuth : Obtenez les informations d'identification du client à l'aide de Postman</a></li>
      </ul>
    </details>
  </section>

  <section class="bcls-section" id="workingSample">
    <h2>Rapport sur le contenu audio</h2>
    <h3>Code source</h3>
    <p>
      Retrouvez tout le code associé à cet exemple dans ce <a href="https://github.com/BrightcoveLearning/18729-cms-api-sample-report-audio-only-content">Dépôt GitHub</a>.
    </p>
    <h3>Exemple d'application</h3>
    <p class="codepen" data-height="1400" data-theme-id="34967" data-default-tab="result" data-user="rcrooks1969" data-slug-hash="ZwyVJL" style="height: 300px; box-sizing: border-box; display: flex; align-items: center; justify-content: center; border: 2px solid black; margin: 1em 0; padding: 1em;" data-pen-title="CMS API Sample: Audio Content Report"><span>Voir le stylo <a href="https://codepen.io/team/rcrooks1969/pen/ZwyVJL/"> <span translate="No">API CMS</span> Échantillon: Rapport sur le contenu audio</a> par Brightcove Learning Services (<a href="https://codepen.io/rcrooks1969">@rcrooks1969</a> ) au <a href="https://codepen.io">Stylo de code</a>.</span></p>
    <script async src="https://static.codepen.io/assets/embed/ei.js"></script>
  </section>

  <section class="bcls-section">
    <details>
      <summary>
        <h2 id="Using_the_CodePen">Utiliser le CodePen</h2>
      </summary>

      <p>Voici quelques conseils pour utiliser efficacement le CodePen ci-dessus :</p>

      <ul>
        <li>Basculez l'affichage réel du lecteur en cliquant sur le bouton <strong>Résultat</strong> bouton.</li>
        <li>Clique le <strong>HTML/CSS/JS</strong> pour afficher UN des types de code.</li>
        <li>Cliquez sur <strong>Modifier sur CodePen</strong> dans le coin supérieur droit pour insérer ce CodePen dans votre propre compte.</li>
        <li>Retrouvez tout le code associé à cet exemple dans ce <a href="https://github.com/BrightcoveLearning/18729-cms-api-sample-report-audio-only-content">Dépôt GitHub</a>.</li>
      </ul>
    </details>
  </section>

    <section class="bcls-section">
    <details>
      <summary>
        <h2 id="proxy">Code proxy</h2>
      </summary>

      <p>Afin de créer votre propre version de l'exemple d'application sur cette page, vous devez créer et héberger votre propre proxy. (Les proxys utilisés par Brightcove Learning Services n'acceptent que les demandes des domaines Brightcove.) Un exemple de proxy, très similaire à celui que nous utilisons, mais sans les contrôles qui bloquent les demandes des domaines non Brightcove, peut être trouvé dans <a href="https://github.com/BrightcoveLearning/sample-proxy-apps">ce référentiel GitHub</a>. Vous y trouverez également des instructions de base pour l'utiliser et un guide plus élaboré pour créer des applications autour du proxy dans <a href="/getting-started/learning-guide-using-rest-apis.html">Utilisation des API REST</a>.</p>
    </details>
  </section>

</article>