---
title: 'Travailler avec des étiquettes'
description: 'Dans cette rubrique, vous apprendrez à créer, gérer et utiliser des étiquettes à l'aide de l'API CMS.'
parent: Managing Videos/Assets 
grandparent: CMS API
---
 <h1>{{ page.title }}</h1>
<article class="bcls-article">
  <summary>{{ page.description }}</summary>
  <section class="bcls-section">
    <h2 id="Introduction">introduction</h2>
    <aside class="bcls-aside bcls-aside--tip">Notez que les libellés ne sont pas automatiquement activés pour les comptes. Pour activer les libellés pour votre compte, <a href="https://supportportal.brightcove.com/s/login/">contacter l'assistance Brightcove</a>.</aside>
    <p>Les étiquettes sont similaires aux balises. Vous pouvez les ajouter à des vidéos, puis les utiliser pour rechercher un groupe de vidéos, mais elles présentent des avantages distincts :</p>
    <ul>
      <li>
        Les libellés sont créés au niveau du compte et appliqués aux vidéos.
        <p>Ceci est particulièrement important si votre objectif est d'organiser votre bibliothèque de vidéos. Par exemple, si vous essayez d'organiser vos vidéos à l'aide de balises, vous pouvez créer des balises telles que <code translate="No">birds</code> , <code translate="No">fish</code> , et <code translate="No">insects</code>. Ensuite, il est facile de rechercher et de trouver toutes vos vidéos d'oiseaux et de créer une liste de lecture intelligente pour eux. Mais si un utilisateur qui ajoute une nouvelle vidéo tape accidentellement <code translate="No">bird</code> à la place de <code translate="No">birds</code> , vous avez maintenant un nouveau tag et la vidéo n'appartient pas à votre <code translate="No">birds</code> collection.</p>
        <p>Si vous créez une étiquette appelée <code translate="No">birds</code> à la place, seule cette étiquette peut être ajoutée à une vidéo. Vous ne pouvez pas ajouter accidentellement l'étiquette inexistante <code translate="No">birds</code> au lieu.</p>
      </li>
      <li>
        Les étiquettes sont créées sous forme de chemin hiérarchique, comme <code translate="No">/nature/birds/shore_birds</code>.
        <p>Cela signifie que vous pouvez rechercher (ou créer une playlist basée sur) un chemin partiel ou complet :
          <ul>
            <li><code translate="No">q=labels:/nature</code>- renvoie toutes les vidéos qui ont le label <code translate="No">nature</code></li>
            <li><code translate="No">q=labels:/nature/birds</code>- renvoie le <code translate="No">birds</code> sous-groupe de la <code translate="No">nature</code> vidéos</li>
            <li><code translate="No">q=labels:/nature/birds/shore_birds</code>- renvoie le <code translate="No">shore_birds</code> sous-groupe de la <code translate="No">/nature/birds</code> vidéos</li>
          </ul>
        </p>
      </li>
    </ul>
  </section>
  <section class="bcls-section">
    <h2 id="creating_managing_labels">Création et gestion des étiquettes</h2>
    <p>Les étiquettes de votre compte peuvent être créées et gérées à l'aide du <span translate="No">API CMS</span> <code translate="No">/v1/accounts/{account_id}/labels</code> extrémités.</p>
    <p>Notez que tous les points de terminaison d'API indiqués ci-dessous seront ajoutés à l'URL de base du CMS :</p>
    <pre><code class="language-http" translate="No">https://cms.api.brightcove.com</code></pre>
    <h3>Création d'une étiquette</h3>
    <p>De nouvelles étiquettes peuvent être créées en envoyant le chemin complet dans un <code translate="No">POST</code> demander:</p>
    <h4>Exemple de point de terminaison de requête</h4>
    <pre><code class="language-http" translate="No">/v1/accounts/1234567890/labels</code></pre>
    <h4>Exemple de corps de requête</h4>
<pre class="line-numbers"><code class="language-json" translate="No">{
  "path": "/nature/birds/shore_birds/"
}</code></pre>
    <p>Noter que <em>tous</em> des étiquettes dans le chemin qui n'existent pas déjà seront créées. Si vous souhaitez ajouter un autre groupe de <code translate="No">forest_birds</code> , vous enverriez :</p>
<pre class="line-numbers"><code class="language-json" translate="No">{
  "path": "/nature/birds/forest_birds/"
}</code></pre>
    <p>Cette fois, seuls les <code translate="No">forest_birds</code> sous-étiquette, sera créé, car <code translate="No">nature</code> et <code translate="No">birds</code> existe déjà.</p>
    <p>De même, si vous souhaitez ajouter un nouveau sous-groupe <code translate="No">sandpipers</code> à <code translate="No">shore_birds</code> , vous enverriez :</p>
<pre class="line-numbers"><code class="language-json" translate="No">{
  "path": "/nature/birds/shore_birds/sandpipers"
}</code></pre>
    <h4>Exemple de réponse</h4>
<pre class="line-numbers"><code class="language-json" translate="No">{
  "path": "/nature/birds/shore_birds/sandpipers/"
}</code></pre>
        <h3>Obtenir des étiquettes</h3>
    <p>Vous pouvez obtenir toutes les étiquettes d'un compte en envoyant un <code translate="No">GET</code> demander:</p>
    <h4>Exemple de point de terminaison de requête</h4>
    <pre><code class="language-http" translate="No">/v1/accounts/1234567890/labels</code></pre>
    <h4>Exemple de réponse</h4>
<pre class="line-numbers"><code class="language-json" translate="No">{
  "account_id": "57838016001",
  "labels": [
    "/nature/birds/",
    "/nature/birds/shore_birds/",
    "/nature/birds/forest_birds/",
    "/nature/mammals/seamammals/"
  ],
  "version": 4
}</code></pre>
    <h3>Mettre à jour une étiquette</h3>
    <p>Pour mettre à jour une étiquette, vous envoyez un <code translate="No">PATCH</code> demande à:</p>
    <pre><code class="language-http" translate="No">/v1/accounts/{account_id}/labels/by_path/{path}</code></pre>
    <h4>Exemple de point de terminaison de requête</h4>
    <pre><code class="language-http" translate="No">/v1/accounts/1234567890/labels/by_path//nature/birds/shore_birds</code></pre>
    <h4>Exemple de corps de requête</h4>
<pre class="line-numbers"><code class="language-json" translate="No">{
  "new_label": "coastal_birds"
}</code></pre>
    <p>Notez que le <code translate="No">new_label</code> valeur remplacera le dernier élément dans le <code translate="No">{path}</code> inclus dans la demande. Donc si à la place vous vouliez remplacer <code translate="No">/birds</code> avec <code translate="No">/avian</code> , la requête et le corps ressembleraient à ceci :</p>
    <h5>Point de terminaison</h5>
    <pre><code class="language-http" translate="No">/v1/accounts/1234567890/labels/by_path//nature/birds/</code></pre>
    <h5>Corps de la demande</h5>
<pre class="line-numbers"><code class="language-json" translate="No">{
  "new_label": "avian"
}</code></pre>
    <p>Après cette demande, le <code translate="No">coastal_birds</code> chemin deviendrait <code translate="No">/nature/wildlife/avian/coastal_birds</code>. Le chemin changerait pour tout ajout de sous-étiquettes dans la hiérarchie, donc <code translate="No">/nature/birds/forest_birds</code> deviendrait <code translate="No">/nature/wildlife/avian/forest_birds</code></p>
    <p>La réponse inclura le nombre d'étiquettes qui ont été mises à jour.</p>
    <h5>Exemple de réponse</h5>
<pre class="line-numbers"><code class="language-json" translate="No">{
  "path": "/nature/avian",
  "labels_updated": "2"
}</code></pre>
    <h3>Supprimer une étiquette</h3>
    <p>La suppression d'une étiquette utilise un <code translate="No">DELETE</code> demande envoyée au même point de terminaison que la demande de mise à jour. Seul le chemin se terminant par cette sous-étiquette (et les chemins qui ont des sous-étiquettes supplémentaires) seront supprimés, tandis que les étiquettes de niveau supérieur sont conservées.</p>
    <p>Par exemple, supposons que vous ayez ces trois chemins d'étiquettes :</p>
    <pre><code translate="No">
      /nature/wildlife/avian/coastal_birds
      /nature/wildlife/avian/coastal_birds/sandpipers
      /nature/wildlife/avian/forest_birds
    </code></pre>
    <p>Envoi d'un <code translate="No">DELETE</code> demande à <code translate="No">/v1/accounts/1234567890/labels/by_path//nature/wildlife/avian/coastal_birds</code> supprimerait les premiers chemins ci-dessus, mais cela n'affecterait pas le troisième.</p>
    <aside class="bcls-aside bcls-aside--information">Lorsque vous supprimez une étiquette, elle est supprimée de manière asynchrone de toutes les vidéos auxquelles elle a été ajoutée.</aside>
  </section>
  <section class="bcls-section">
    <h2 id="adding_labels_videos">Ajouter et mettre à jour des étiquettes aux vidéos</h2>
    <p>Ajoutez des libellés aux vidéos sous la forme d'un tableau de chemins de libellés complets :</p>
    <pre class="line-numbers"><code class="language-json" translate="No">[
      "/nature/wildlife/avian/coastal_birds",
      "/nature/wildlife/avian/coastal_birds/sandpipers"
]</code></pre>
    <p>Le tableau d'étiquettes peut être inclus dans un <a href="/cms/references/reference.html#operation/CreateVideo">demande de création de vidéo (POST)</a> ou un <a href="/cms/references/reference.html#operation/UpdateVideo">demande de mise à jour vidéo (PATCH)</a>.</p>
    <p>Pour mettre à jour les étiquettes vidéo, envoyez le tableau de vidéos complet et mis à jour dans un <a href="/cms/references/reference.html#operation/UpdateVideo">demande de mise à jour vidéo (PATCH)</a>. Ainsi, par exemple, pour ajouter le <code translate="No">/nature/wildlife/avian/forest_birds</code> , vous enverriez le tableau :</p>
    <pre class="line-numbers"><code class="language-json" translate="No">[
      "/nature/wildlife/avian/coastal_birds",
      "/nature/wildlife/avian/coastal_birds/sandpipers",
      "/nature/wildlife/avian/forest_birds"
]</code></pre>
    <aside class="bcls-aside bcls-aside--warning">Notez que les libellés que vous incluez lorsque vous ajoutez ou mettez à jour les libellés de la vidéo <strong>doit exister</strong> ou la demande renverra une erreur.</aside>
  </section>
  <section class="bcls-section">
    <h2 id="searching_videos_label">Recherche de vidéos par libellés</h2>
    <p>Vous pouvez rechercher des vidéos en <code translate="No">labels</code> tout comme vous pouvez le faire avec d'autres champs pris en charge pour la recherche. Comme mentionné dans l'introduction, l'ajout de sous-étiquettes au chemin de recherche filtre les résultats de la recherche :</p>
    <table class="bcls-table">
      <caption class="bcls-caption--table">Recherche par exemples d'étiquettes</caption>
      <thead class="bcls-table__head">
          <tr>
              <th>Exemple de recherche</th>
              <th>Ce que ça renvoie</th>
          </tr>
      </thead>
      <tbody class="bcls-table__body">
          <tr>
              <td><code translate="No">q=labels:/nature</code></td>
              <td>Toutes les vidéos avec des chemins d'étiquette commençant par <code translate="No">/nature</code></td>
          </tr>
          <tr>
              <td><code translate="No">q=labels:/nature/wildlife</code></td>
              <td>Toutes les vidéos avec des chemins d'étiquette commençant par <code translate="No">/nature/wildlife</code></td>
          </tr>
          <tr>
              <td><code translate="No">q=labels:/nature/wildlife/avian</code></td>
              <td>Toutes les vidéos avec des chemins d'étiquette commençant par <code translate="No">/nature/wildlife/avian</code></td>
          </tr>
      </tbody>
  </table>
  </section>
  <!-- <section class="bcls-section">
    <h2 id="playlists_based_on_labels">Playlists based on labels</h2>
    <p>Smart playlists can be built based on label search strings just as they can for tag search strings. See <a href="https://apis.support.brightcove.com/cms/managing-videos/managing-playlists-using-cms-api.html">Managing Playlists Using the CMS API</a> for details.</p>
  </section> -->
  <section class="bcls-section">
    <h2 id="Limitations">Limites</h2>
    <ul>
      <li>Un maximum de 10 000 étiquettes peut être ajouté à un compte</li>
      <li>La recherche par libellés est actuellement prise en charge par le <a href="/cms/searching/cmsplayback-api-videos-search.html">Syntaxe de recherche v1 uniquement</a></li>
      <li>Les étiquettes sont <strong>ne pas</strong> inclus dans les métadonnées vidéo qui sont partagées avec un affilié à l'aide <a href="https://apis.support.brightcove.com/cms/managing-videos/media-sharing-cms-api.html">Partage médiatique</a>.</li>
    </ul>
  </section>
</article>