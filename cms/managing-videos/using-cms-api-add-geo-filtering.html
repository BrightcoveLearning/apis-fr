---
title: 'Ajouter un géofiltrage'
description: "Dans cette rubrique, vous apprendrez à gérer les propriétés de restriction géographique des vidéos à l'aide de CMS API. Les CMS API vous permet d'ajouter des propriétés de filtrage géographique aux vidéos pour fournir une liste des pays dans lesquels elles peuvent (ou ne peuvent pas) être visionnées."
parent: Managing Videos/Assets 
grandparent: CMS API
---
 <h1>{{ page.title }}</h1>
<article class="bcls-article">
  <summary>{{ page.description }}</summary>
    <section class="bcls-section">
    <h2 id="introduction">introduction</h2>
    
    <p>Des propriétés de géofiltrage peuvent être ajoutées lors de la création initiale de la vidéo à l'aide d'une requête POST ou à l'aide d'une requête PATCH pour mettre à jour les métadonnées de la vidéo. Voir <a href="/cms/code-samples/cms-api-sample-update-videos.html">Mettre à jour les vidéos en utilisant CMS API</a> pour un exemple de demande de mise à jour.</p>
    
    <aside class="bcls-aside bcls-aside--information">Au lieu ou en plus d'appliquer un filtrage géographique au niveau de la vidéo, vous pouvez <a href="/policy/getting-started/policy-keys.html#geoRestriction">appliquer le filtrage géographique aux Lecteurs Brightcove via des clés de stratégie</a>. Video Cloud examine à la fois les politiques de filtrage géographique au niveau de la vidéo et du lecteur, et applique les deux. Si un pays est exclu par l'une ou l'autre des règles, la vidéo ne sera pas disponible dans le pays.
    
    <p>Notez que les codes de pays doivent être saisis <strong>minuscule</strong>.</p>
    
    <p>Certains éditeurs ont demandé la possibilité de filtrer géographiquement les vidéos vers les bases militaires américaines ainsi qu'aux États-Unis. Pour soutenir cela, il existe un <strong>Armée américaine</strong> option. Bien qu'il n'y ait pas de moyen fiable à 100 % d'identifier une base militaire, lorsqu'une adresse IP qui se résout à un domaine .mil est rencontrée et ne se trouve pas aux États-Unis, elle sera identifiée comme provenant d'une base militaire américaine plutôt que de son pays réel. d'origine. Les adresses .mil qui se trouvent aux États-Unis seront toujours identifiées comme « nous ».</p>
    </aside>
    </section>
    
    <section class="bcls-section">
    <h2 id="access">Accès au géo-filtrage</h2>
    
    <aside class="bcls-aside bcls-aside--information">Le géofiltrage est un module complémentaire payant de Video Cloud. Si vous souhaitez acheter le pack de géofiltrage, contactez votre responsable de compte.</aside>
    </section>
    
    <section class="bcls-section">
    <h2 id="authorization">Autorisation</h2>
    
    <aside class="bcls-aside bcls-aside--information">Demandes au CMS API nécessitent un en-tête d'autorisation contenant vos jetons d'accès. Pour plus de détails sur la façon d'obtenir les informations d'identification client et de les utiliser pour récupérer des jetons d'accès, consultez le <a href="/oauth/getting-started/overview-oauth-api-v4.html">Présentation de Brightcove OAuth</a>.</aside>
    
    <p>Les opérations pour lesquelles vous aurez besoin d'autorisations pour mettre à jour les métadonnées de la vidéo sont <code translate="No">video-cloud/video/update</code> ou <code translate="No">video-cloud/video/all</code>.</p>
    </section>
    
    <section class="bcls-section">
    <h2 id="syntax">Syntaxe</h2>
    
    <p><code translate="No">geo</code> est un objet avec trois propriétés :</p>
    
    <table class="bcls-table">
      <thead class="bcls-table__head">
        <tr>
          <th>Biens</th>
          <th>Taper</th>
          <th>Obligatoire</th>
          <th>commentaires</th>
        </tr>
      </thead>
      <tbody class="bcls-table__body">
        <tr>
          <td><code translate="No">geo.countries</code></td>
          <td>Tableau des chaînes de codes de pays</td>
          <td>non</td>
          <td>Un <a href="https://www.iso.org/obp/ui/#search/code/">Liste ISO 3166 de codes à 2 lettres <strong>en minuscule</strong></a> pour les pays qui seront sur liste blanche ou liste noire pour visionner la vidéo</td>
        </tr>
        <tr>
          <td><code translate="No">geo.exclude_countries</code></td>
          <td>booléen</td>
          <td>non</td>
          <td>Si <code translate="No">true</code> , la visualisation est <strong>ne pas</strong> autorisé dans les pays inclus dans le <code translate="No">geo.countries</code> liste; si <code translate="No">false</code> , la visualisation est <strong>seul</strong> autorisé dans ces pays.</td>
        </tr>
        <tr>
          <td><code translate="No">geo.restricted</code></td>
          <td>booléen</td>
          <td>non</td>
          <td>Si <code translate="No">true</code> le géo-filtrage est activé pour la vidéo</td>
        </tr>
      </tbody>
    </table>
    
    <h3>Demander</h3>
    
    <pre class="line-numbers">
    <code class="language-http" translate="No">https://cms.api.brightcove.com/v1/accounts/{account_id}/videos/{video_ID}</code></pre>
    
    <h3>Corps de la requête:</h3>
    
    <p>Le corps de la requête sera un objet JSON contenant un tableau d'abréviations de pays à inclure ou à exclure:</p>
    
    <pre class="line-numbers">
    <code class="language-json" translate="No">{"geo" : {
        "restricted" : true,
        "exclude_countries" : false,
        "countries" : ["ph","in","my","ja"]
      }
    }</code></pre>
    </section>
    </article>
 