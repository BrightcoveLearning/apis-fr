---
title: 'Aperçu: Policy API'
description: "Dans cette rubrique, vous apprendrez à quoi sert le Policy API et comment l'utiliser. le Policy API est utilisée pour créer ou obtenir des clés de stratégie."
parent: Getting Started 
grandparent: Policy API
---
 <h1>{{ page.title }}</h1>
<article class="bcls-article">
  <summary>{{ page.description }}</summary>
    <div class="training-video-player-ipx" data-experience="5a73630f7afd7a00101bc1b5" data-video-ids="5853357211001">&nbsp;</div>
    <script src="https://players.brightcove.net/20318290001/experience_5a73630f7afd7a00101bc1b5/live.js"></script>
    
    <section class="bcls-section">
    <h2 id="Introduction">introduction</h2>
    
    <p>Les <a href="/policy/getting-started/policy-keys.html">clé de stratégie</a> est utilisé pour récupérer le contenu vidéo et de liste de lecture de votre bibliothèque Video Cloud en utilisant le <a href="/playback/getting-started/overview-playback-api.html">Playback API</a>.</p>
    
    <p>Voir aussi le <a href="/policy/references/reference.html">Référence API</a>.</p>
    </section>
    
    <section class="bcls-section">
    <h2 id="Do_you_need_one">En avez-vous besoin ?</h2>
    
    <p>Il n'y a que des cas particuliers où vous devez générer vos propres clés de stratégie:</p>
    
    <ul>
      <li>Les clés de stratégie sont générées automatiquement pour les Lecteurs Brightcove lorsque vous les créez. Vous n'avez besoin de générer des clés de politique directement à l'aide de cette API que si vous souhaitez obtenir une clé avec filtrage géographique pour un lecteur, ou accéder à le Playback API sans créer de lecteur - ce serait généralement pour les applications créées à l'aide du <a href="https://sdks.support.brightcove.com/">SDK de périphérique</a>. Voir <a href="/policy/getting-started/policy-keys.html">Clés de stratégie</a> pour obtenir des instructions sur la façon d'obtenir la clé de stratégie pour n'importe quel Brightcove Player.</li>
      <li>Exécution des requêtes de recherche de vidéos:
      <ul>
        <li>Vous devez utiliser un <a href="#Search_videos">Clé de stratégie activée pour la recherche</a>.</li>
        <li>Les clés de stratégie générées pour les nouveaux Lecteurs Brightcove ne sont pas activées par défaut pour la recherche. Vous devez le régler manuellement à l'aide de la <a href="#Search_videos">Policy API</a>.</li>
        <li>En général, les clés de stratégie activées pour la recherche ne doivent être stockées que sur un serveur et non dans un lecteur de navigateur ou une application mobile, car elles peuvent être utilisées pour répertorier toutes les vidéos lisibles. Pour certains comptes, cela peut ne pas être applicable si cela ne vous dérange pas que toutes vos vidéos jouables puissent être découvertes.</li>
        <li>Les demandes de recherche ne renverront que des vidéos jouables. Pour plus de détails sur les requêtes/réponses de l'API, consultez le <strong>Obtenir des vidéos</strong> partie de la <a href="/playback/references/reference_v1.html">Référence de le Playback API</a>.</li>
      </ul>
      </li>
    </ul>
    </section>
    
    <section class="bcls-section">
    <h2 id="FAQ">FAQ</h2>
    
    <p>Voici quelques questions sur le Policy API que nous recevons couramment.</p>
    
    <dl>
      <dt class="bcls-question">Les clés de stratégie peuvent-elles être créées pour plusieurs comptes ou pour un seul ?</dt>
      <dd class="bcls-answer">Les clés de stratégie permettent d'accéder aux vidéos et à la liste de lecture pour un seul compte. Si vous avez plusieurs comptes, vous devez créer des clés de stratégie pour chacun.</dd>
      <dt class="bcls-question">Les clés de stratégie expirent-elles ?</dt>
      <dd class="bcls-answer">Non, les clés de stratégie sont valables pour toujours. Si vous devez révoquer une clé de stratégie, vous devez contacter <a href="//support.brightcove.com/en/contact">Assistance Brightcove</a> - incluez l'identifiant du compte et la clé de stratégie que vous souhaitez révoquer dans la demande.</dd>
      <dt class="bcls-question">Les clés de stratégie fonctionneront-elles pour tous les utilisateurs du compte ?</dt>
      <dd class="bcls-answer">Oui, toute personne disposant de la clé de stratégie peut l'utiliser.</dd>
      <dt class="bcls-question">Une clé de stratégie peut-elle être mise à jour ?</dt>
      <dd class="bcls-answer">Non, il n'existe aucun moyen de mettre à jour une clé de stratégie. Tu peux soit <a href="/policy/getting-started/policy-keys.html#Getting_the_policy_key">obtenir la clé de la politique</a> à partir d'un lecteur existant dans votre compte Video Cloud, ou vous pouvez créer une nouvelle clé de politique en utilisant l'API de politique.</dd>
    </dl>
    </section>
    
    <section class="bcls-section">
    <h2 id="Base_URL">URL de base</h2>
    
    <p>L'URL de base de le Policy API est:</p>
    
    <pre>
    <code class="language-http" translate="No">https://policy.api.brightcove.com/v1</code></pre>
    
    <h3>Chemin du compte</h3>
    
    <p>Dans tous les cas, des demandes seront faites pour un compte Video Cloud spécifique. Donc, vous ajouterez toujours <code translate="No">/accounts/ </code> suivi de votre identifiant de compte à l'URL de base:</p>
    
    <pre>
    <code class="language-http" translate="No">https://policy.api.brightcove.com/v1<strong>/accounts/{account_id}</strong></code></pre>
    </section>
    
    <section class="bcls-section">
    <h2 id="Authentication">Authentification</h2>
    
    <p>Les demandes sont authentifiées par un jeton d'accès passé dans un <code translate="No">Authorization </code> entête:</p>
    
    <pre>
    <code class="language-json" translate="No">Authorization: Bearer {access_token}</code></pre>
    
    <p>Pour obtenir des jetons d'accès, procédez comme suit:</p>
    
    <ol class="bcls-tasklist">
      <li>
      <p>Obtenez vos identifiants client ( <code translate="No">client_id </code> et <code translate="No">client_secret </code> ) par <a href="/general/managing-api-authentication-credentials.html">Studio Nuage Vidéo</a> (conseillé).</p>
    
      <p>Pour les jetons d'accès pouvant être utilisés avec les demandes de création de clé de stratégie, vos identifiants client doivent disposer des autorisations suivantes dans Studio: <strong>Les Lecteurs lisent et lisent/écrivent</strong></p>
    
      <figure class="bcls-figure"><img class="bcls-image--no-border" alt="Authentication permissions" src="//learning-services-media.brightcove.com/doc-assets/video-cloud-apis/policy-api/overview/authentication-permissions.png" />
      <figcaption class="bcls-caption--image">Autorisations d'authentification</figcaption>
      </figure>
    
      <p>Vous pouvez également obtenir les informations d'identification du client directement via le <a href="/oauth/getting-started/overview-oauth-api-v4.html">API Brightcove OAuth</a>.</p>
      </li>
      <li>Une fois que vous avez les informations d'identification du client, vous pouvez <a href="/oauth/guides/getting-access-tokens.html">obtenir des jetons d'accès temporaires à partir de OAuth API</a>.</li>
    </ol>
    </section>
    
    <section class="bcls-section">
    <h2 id="required_headers">En-têtes obligatoires</h2>
    
    <p>En plus de <code translate="No">Authorization</code> en-tête discuté dans la section précédente, les demandes doivent également avoir un <code translate="No">Content-Type</code> entête:</p>
    
    <pre class="line-numbers">
    <code class="language-bash" translate="No">Content-Type: application/json</code></pre>
    </section>
    
    <section class="bcls-section">
    <h2 id="Create_a_policy_key">Créer une clé de stratégie</h2>
    
    <p>Pour créer une nouvelle clé de stratégie, envoyez une requête POST à:</p>
    
    <pre>
    <code class="language-http" translate="No">https://policy.api.brightcove.com/v1/accounts/{account_id}/policy_keys</code></pre>
    
    <h3>Corps de la demande</h3>
    
    <p>Dans le corps de la requête, incluez le JSON de la stratégie:</p>
    
    <pre class="line-numbers">
    <code class="language-json" translate="No">{
      "key-data": {
        "account-id": "{account_id}"
      }
    }</code></pre>
    
    <p>Il s'agit de la politique la plus basique, qui restreint l'accès au compte, vous devez l'inclure dans toute politique que vous créez. L'identifiant du compte ici doit correspondre à l'identifiant du compte dans l'URL de la demande, sinon une erreur sera renvoyée.</p>
    </section>
    
    <section class="bcls-section">
    <h2 id="Domain_restriction">Restriction de domaine</h2>
    
    <p>En plus de limiter l'accès au compte, vous pouvez également limiter l'accès à des domaines spécifiques en ajoutant le <code translate="No">allowed-domains </code> clé:</p>
    
    <pre class="line-numbers">
    <code class="language-json" translate="No">{
      "key-data": {
        "account-id": "123456789001",
        "allowed-domains": [
          "http://www.abc.com",
          "https://www.abc.com",
          "http://www.xyz.com",
          "https://www.xyz.com"
        ]
      }
    }</code></pre>
    
    <aside class="bcls-aside bcls-aside--warning">
    <ul>
      <li>Les domaines doivent contenir le protocole et le nom de domaine, ainsi que le port, sauf s'il s'agit du port par défaut du protocole (par exemple http://www.abc.com, https://www.def.com:8888), mais <strong>pas des chemins ou des barres obliques ("/")</strong></li>
      <li>N'importe quelle clé de votre compte peut être utilisée pour accéder au contenu du compte via le Playback API, donc si vous utilisez la restriction de domaine, nous vous recommandons fortement de restreindre le domaine de tous vos Lecteurs.</li>
      <li>Parce que le <a href="https://sdks.support.brightcove.com">Kits de développement logiciel (SDK) Brightcove Native Player</a> n'envoyez pas d'en-tête d'origine, vous ne pouvez pas utiliser une clé de stratégie restreinte au domaine. Si vous essayez ceci, vous obtiendrez un <code translate="No">403 Forbidden</code> réponse lorsque vous essayez de récupérer du contenu dans votre bibliothèque Video Cloud.</li>
    </ul>
    </aside>
    </section>
    
    <section class="bcls-section">
    <h2 id="Geo_restriction">Restriction géographique</h2>
    
    <p>le Policy API peut être utilisée pour mettre en œuvre un filtrage géographique pour un Lecteur à la place ou en plus de <a href="/cms/managing-videos/using-cms-api-add-geo-filtering.html">vidéos individuelles.</a></p>
    
    <aside class="bcls-aside bcls-aside--information">
    <ul>
      <li>Une règle peut restreindre la lecture en fonction du pays détecté par le spectateur. Pour créer et utiliser une clé avec cette politique, le compte doit être autorisé à utiliser les fonctionnalités de filtrage géographique. Cette politique refusera également l'accès si l'utilisateur final semble faire sa demande via ou à partir d'un proxy d'anonymisation.</li>
      <li>Les restrictions géographiques appliquées dans une clé de stratégie sont appliquées <strong>seul</strong> par les Lecteurs qui utilisent cette clé de politique.</li>
      <li>La géo-restriction peut également être <a href="/cms/managing-videos/using-cms-api-add-geo-filtering.html">appliqué à des vidéos individuelles</a>. Video Cloud applique à la fois des politiques de géo-filtrage au niveau du lecteur et de la vidéo, donc si un pays est exclu par l'un ou l'autre, la vidéo ne sera pas disponible dans ce pays.</li>
    </ul>
    </aside>
    
    <h3>Échantillon</h3>
    
    <p>Voici un exemple d'ensemble de règles de liste blanche qui n'autorise la lecture qu'à partir des territoires américains et américains et des bases militaires:</p>
    
    <pre class="line-numbers">
    <code class="language-json" translate="No">{"account-id": "8523232323",
      "geo": {
        "countries": ["us", "usmil", "pr", "gu", "vi", "as", "mp"],
        "exclude_countries": false
      }
    }</code></pre>
    
    <p>Pour mettre ces pays sur liste noire à la place, définissez <code translate="No">exclude_countries </code> à vrai.</p>
    </section>
    
    <section class="bcls-section">
    <h2 id="Require_SSAI">Exiger la SSAI</h2>
    
    <p>Lorsque vous travaillez avec l'insertion d'annonces côté serveur (SSAI), vous souhaiterez peut-être un moyen d'appliquer une configuration d'annonce appropriée dans vos demandes d'API. Vous pouvez le faire en configurant votre clé de stratégie pour exiger qu'un <code translate="No">ad_config_id </code> est ajouté en tant que paramètre d'URL à toutes les requêtes de le Playback API.</p>
    
    <h3>Échantillon</h3>
    
    <p>Voici un exemple:</p>
    
    <pre class="line-numbers">
    <code class="language-json" translate="No">{
      "key-data": {
        "account-id": "1752604059001",
        "require-ad-config": true
      }
    }</code></pre>
    
    <p>Pour plus de détails sur l'utilisation du <code translate="No">ad_config_id </code> avec vos requêtes d'API Playback, consultez le <a href="/playback/getting-started/overview-playback-api.html#Video_request_with_SSAI">Présentation de le Playback API: Demande de vidéo avec SSAI</a> document.</p>
    </section>
    
    <section class="bcls-section">
    <h2 id="Search_videos">Rechercher des vidéos</h2>
    
    <p>Lors de l'exécution d'une demande de recherche de vidéo, vous devez utiliser une clé de stratégie activée pour la recherche. Pour créer une clé de stratégie de recherche, le corps de la demande de l'appel doit inclure les éléments suivants:</p>
    
    <pre class="line-numbers">
    <code class="language-json" translate="No">{
      "key-data": {
        "account-id": "57838016001",
        "apis": ["search"]
      }
    }</code></pre>
    
    <aside class="bcls-aside bcls-aside--warning">En général, les clés de stratégie activées pour la recherche ne doivent être stockées que sur un serveur et non dans un lecteur de navigateur ou une application mobile, car elles peuvent être utilisées pour répertorier toutes les vidéos lisibles. Pour certains comptes, cela peut ne pas être applicable si vous ne vous souciez pas de savoir si toutes vos vidéos jouables peuvent être découvertes.</aside>
    </section>
    
    <section class="bcls-section">
    <h2 id="API_Response">Réponse de l'API</h2>
    
    <p>La réponse aux demandes de création de stratégie sera JSON qui inclut le chiffrement <code translate="No">key-string </code> que vous pouvez utiliser pour authentifier les requêtes à le Playback API, ainsi que la politique associée à la clé:</p>
    
    <pre class="line-numbers">
    <code class="language-json" translate="No">{
      "key-data": {
        "account-id": "57838016001"
      },
      "key-string": "BCpkADawqM0NK0Rq8n6sEQyWykemrqeSmIQqqVt3XBrdpl8TYlvqN3hwKphBJRnkPgx6WAbozCW_VgTOBCNf1AQRh8KnmXSXfveQalRc5-pyNlSod5XzP99If2U"
    }</code></pre>
    </section>
    
    <section class="bcls-section">
    <h2 id="Policy_requests">Demandes de stratégie</h2>
    
    <p>Pour récupérer l'objet de stratégie associé à un <code translate="No">key-string </code> , envoyez une requête GET à:</p>
    
    <pre>
    <code class="language-json" translate="No">/accounts/v1/{account_id}/policy_keys/{key_string}</code></pre>
    
    <p>La réponse sera une représentation JSON de la chaîne de clé et de la stratégie:</p>
    
    <pre class="line-numbers">
    <code class="language-json" translate="No">{
      "key-data": {
        "account-id": "57838016001"
      },
      "key-string": "BCpkADawqM0NK0Rq8n6sEQyWykemrqeSmIQqqVt3XBrdpl8TYlvqN3hwKphBJRnkPgx6WAbozCW_VgTOBCNf1AQRh8KnmXSXfveQalRc5-pyNlSod5XzP99If2U"
    }</code></pre>
    </section>
    
    <section class="bcls-section">
    <h2 id="Revoke_a_policy">Révoquer une politique</h2>
    
    <p>Si vous devez révoquer une politique existante, soumettez une demande à <a href="http://support.brightcove.com/en/contact">Assistance Brightcove</a>. Incluez la chaîne de clé de la stratégie que vous souhaitez révoquer dans votre demande.</p>
    </section>
    </article>
 