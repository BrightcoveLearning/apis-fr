---
title: 'Aperçu: Analytics API v1'
description: "Dans cette rubrique, vous obtiendrez un aperçu de Analytics API."
parent: Getting Started 
grandparent: Analytics API
---
 <h1>{{ page.title }}</h1>
<article class="bcls-article">
  <summary>{{ page.description }}</summary>
  <div class="training-video-player-ipx" data-experience="5a73630f7afd7a00101bc1b5" data-video-ids="5996554433001">&nbsp;</div>
  <script src="https://players.brightcove.net/20318290001/experience_5a73630f7afd7a00101bc1b5/live.js"></script>

  <section class="bcls-section">
  <h2 id="Introduction">introduction</h2>

  <p>Les Analytics API vous permet d'obtenir directement des données d'analyse pour vos comptes Video Cloud. Vous pouvez également afficher les rapports d'analyse intégrés dans le module d'analyse de Video Cloud Studio. L'accès aux données par programmation vous offre une flexibilité supplémentaire.</p>

  <p>Voir aussi le <a href="/analytics/references/reference.html">Référence API</a>.</p>
  </section>

  <section class="bcls-section">
  <h2 id="Typical_uses">Utilisations typiques</h2>

  <p>Voici quelques utilisations typiques de l'API:</p>

  <ul>
    <li>Création de graphiques et d'affichages personnalisés</li>
    <li>Travailler avec plusieurs API ensemble - par exemple, obtenir des données vidéo à l'aide du CMS API pour les vidéos avec le plus de vues au cours de la semaine précédente</li>
    <li>Combiner vos données d'analyse vidéo avec d'autres données d'analyse de site</li>
    <li>Pour quelques exemples de solutions, voir
    <ul>
      <li><a href="/analytics/code-samples/analyticscms-apis-sample-analytics-playlists.html">Analyses pour les listes de lecture</a></li>
      <li><a href="/analytics/code-samples/analytics-api-sample-video-report-player-and-day.html">Analyse par pays et jour</a></li>
    </ul>
    </li>
  </ul>
  </section>

  <section class="bcls-section">
  <h2 id="Base_URL">URL de base</h2>

  <p>L'URL de base pour le Analytics API est:</p>

  <pre class="line-numbers" style="white-space:pre-wrap;padding-top:1em;padding-bottom:1em;">
  &lt;code class="language-http translate="No"&gt;https://analytics.api.brightcove.com/v1</code></pre>
  </section>

  <section class="bcls-section">
  <h2 id="Headers">En-têtes</h2>

  <h3>Authentification requise)</h3>

  <p>Les Analytics API utilise le Brightcove <a href="/oauth/getting-started/overview-oauth-api-v4.html">Service OAuth</a> pour authentifier les appels.</p>

  <p>Vous devrez d'abord obtenir les informations d'identification du client (un <code translate="No">client_id</code> et <code translate="No">client_secret</code>). Il s'agit d'une opération unique qui peut être effectuée à l'aide du <a href="/general/managing-api-authentication-credentials.html">Interface utilisateur des informations d'identification OAuth</a>. Vous pouvez obtenir les informations d'identification du client directement à partir du service Brightcove OAuth en utilisant <a href="/oauth/guides/oauth-create-client-credentials-using-curl.html" translate="No">BOUCLE</a> , <a href="/oauth/guides/oauth-create-client-credentials-using-postman.html" translate="No">Facteur</a> , ou <a href="/general/use-insomnia-api-requests.html" translate="No">Insomnie</a>.</p>

  <p>Vous avez besoin à la fois des autorisations Analytics Read et Video Read pour les informations d'identification du client:</p>

  <figure class="bcls-figure"><img class="bcls-image" alt="Permissions for Analytics API Informations d'identification" src="/assets/images/analytiics/getting-started/analytics-permissions.png" /&gt;
  <figcaption class="bcls-caption--image">Autorisations pour Analytics API Crédits</figcaption>
  </figure>

  <p>Si vous créez vos identifiants directement via OAuth API, les autorisations requises sont:</p>

  <pre class="line-numbers">
  <code class="language-json" translate="No">[
    "video-cloud/analytics/read"
    "video-cloud/video/read"
  ]</code></pre>

  <p>Vous aurez également besoin d'un <code translate="No">access_token</code> , qui est obtenu en utilisant le <code translate="No">client_id</code> et <code translate="No">client_secret</code> et transmis dans un en-tête d'autorisation avec votre requête API:</p>

  <pre class="line-numbers" style="white-space:pre-wrap;padding-top:1em;padding-bottom:1em;">
  <code class="language-http" translate="No">Authorization: Bearer <span class="bcls-input">{access_token}</span></code></pre>

  <p>Les <code translate="No">access_token</code> expire après cinq minutes, vous devez donc en obtenir un pour chaque demande, ou vérifier que votre token est toujours valide. Voir <a href="/oauth/guides/getting-access-tokens.html">Obtenir des jetons d'accès</a> pour une explication détaillée de la façon d'obtenir des jetons d'accès, y compris des exemples de code.</p>

  <h3 translate="No">Accepter l'encodage: gzip (facultatif)</h3>

  <p>Le passage de cet en-tête entraînera le retour de la réponse sous forme compressée. Cela peut améliorer les performances des rapports volumineux.</p>
  </section>

  <section class="bcls-section">
  <h2 id="Caching">Mise en cache</h2>

  <p>Pour des raisons de performances, les réponses de l'API sont mises en cache pendant environ 5 minutes, bien que la durée exacte puisse varier en fonction de plusieurs facteurs. Pour toute Analytics API requête, vous pouvez obtenir des informations sur le cache à partir des en-têtes de réponse:</p>

  <figure class="bcls-figure"><img class="bcls-image" alt="Cache Control Headers" src="/assets/images/analytiics/getting-started/aapi-cach-headers.png" />
  <figcaption class="bcls-caption--image">En-têtes de contrôle de cache</figcaption>
  </figure>

  <p>Les <code translate="No">Cache-Control</code> vous indique la durée maximale pendant laquelle les résultats seront mis en cache en secondes (dans l'exemple ci-dessus, 24 secondes). Les <code translate="No">Last-Modified</code> et <code translate="No">Expires</code> les en-têtes vous indiquent quand le cache actuel a été créé et quand il expirera.</p>

  <p>Dans la plupart des cas, ce n'est probablement pas un problème, mais si la fraîcheur des données d'analyse est d'une importance critique, vous devez savoir que plus une requête est longue, plus elle sera mise en cache longtemps, et les rapports qui récupèrent uniquement les données en temps réel (horaires non rapprochées) ne seront pas mis en cache tant que ceux qui récupèrent les données réconciliées (uniquement ou en plus des données en temps réel). Trouver un <a href="https://studio.support.brightcove.com/analytics/faq-analytics-module.html#26">explication complète des données en temps réel et réconciliées</a> si tu veux; la version courte est que le Analytics API repose sur deux ensembles de données:</p>

  <ul>
    <li>des données non rapprochées en temps réel ou horaires, qui sont mises à disposition immédiatement et stockées pendant 32 jours</li>
    <li>les données rapprochées, qui sont stockées en permanence ; les données en temps réel sont rapprochées pour améliorer la précision et stockées dans le référentiel de données rapprochées toutes les 24 heures</li>
  </ul>

  <p>Vous pouvez limiter les résultats aux données rapprochées ou en temps réel à l'aide de la <a href="#reconciled">réconcilié</a> paramètre.</p>

  <p>Pour minimiser la mise en cache:</p>

  <ul>
    <li>Utilisez le <a href="/analytics/getting-started/analytics-api-overview-dimensions-fields-and-parameters.html#reconciled"> <code class="language-http" translate="No">reconciled=false</code> </a> paramètre pour limiter les résultats aux données en temps réel</li>
    <li>Utilisez un petit <a href="/analytics/getting-started/analytics-api-overview-dimensions-fields-and-parameters.html#dateRanges">plage de dates</a> , et assurez-vous que l'ensemble de la plage se situe dans les 32 derniers jours</li>
  </ul>
  </section>

  <section class="bcls-section">
  <h2 id="timeouts">Délais d'attente</h2>

  <p>Analytics API demande un délai d'expiration après 8 minutes si elle n'est pas terminée. Si vous voyez des délais d'attente inférieurs à 8 minutes, la cause en est une limite côté client.</p>
  </section>

  <section class="bcls-section">
  <h2 id="maximum_items">Nombre maximum d'articles que vous pouvez retourner</h2>

  <p>Le nombre maximum d'articles pouvant être retournés est d'un million. Dans la plupart des cas, il est peu probable que vous atteigniez la limite, mais si vous demandez des rapports sur les <code translate="No">date</code> dimension sur une longue période de temps, par exemple, c'est possible. Si vous atteignez la limite du million d'articles, vous devrez modifier la demande pour réduire le nombre d'articles retournés. En règle générale, la manière la plus simple de procéder consiste à réduire la plage de données (à l'aide de la <code translate="No">from</code> et <code translate="No">to</code> paramètres discutés plus loin).</p>
  </section>

  <section class="bcls-section">
  <h2 id="concurrency">Demandes simultanées</h2>

  <p>Un seul compte est limité à une demande à la fois. Plusieurs requêtes simultanées s'exécuteront en série.</p>

  <p>Par exemple:</p>

  <ol>
    <li>Démarrez une requête API "A".</li>
    <li>Lancez la requête API "B" pour le même compte.</li>
    <li>La demande « B » ne sera pas terminée tant que « A » ne sera pas terminé.</li>
    <li>Si la demande « A » prend trop de temps, la demande « A » recevra une erreur indiquant « votre demande est en attente ; réessayez ».</li>
    <li>Si la demande "A" prend trop de temps, la demande "B" peut recevoir la même erreur. Notez que la requête "B" obtiendra une erreur si le temps pour terminer A + B est supérieur à notre valeur de délai d'attente.</li>
  </ol>

  <p>Si vous faites plusieurs demandes simultanées, elles seront traitées une à la fois, dans l'ordre reçu.</p>

  <p>Les demandes renvoyées avec une "erreur en attente" finiront par se terminer et seront enregistrées dans notre cache. Cela signifie que les futures demandes pour les mêmes données seront renvoyées presque instantanément, mais uniquement si la demande est effectuée avant l'expiration du cache de cinq minutes.</p>

  <p>Vos systèmes doivent gérer l'erreur en attente en attendant 2 à 4 minutes et en effectuant à nouveau la même demande.</p>
  </section>

  <section class="bcls-section">
  <h2 id="Best_practices">Les meilleures pratiques</h2>

  <aside class="bcls-aside bcls-aside--tip">Sur la base des informations ci-dessus, nous recommandons les bonnes pratiques suivantes:
  <ol>
    <li>Faire des demandes au Analytics API de manière asynchrone si d'autres opérations dans votre application peuvent se dérouler sans les données</li>
    <li>Réessayez automatiquement les demandes si la réponse est <code translate="No">Processing query in background</code></li>
    <li>Ne répétez pas les demandes plus souvent que toutes les 5 minutes, car vous récupérerez de toute façon les données mises en cache</li>
    <li>Si vous effectuez plusieurs demandes simultanément ou en succession rapide, essayez de faire durer les demandes plus longues (celles qui renverront le plus d'éléments et de données), afin qu'elles ne retardent pas les demandes plus courtes</li>
  </ol>
  </aside>
  </section>

  <section class="bcls-section">
  <h2 id="requestTypes">Types de demande</h2>

  <p>Les Analytics API accepte trois types de demande</p>

  <dl>
    <dt>Données (également appelées un rapport)</dt>
    <dd>Un rapport sur un ou plusieurs <a href="/analytics/getting-started/analytics-api-overview-dimensions-fields-and-parameters.html" translate="No">dimensions</a>. Le point de terminaison d'une demande de rapport est:
    <pre class="line-numbers" style="white-space:pre-wrap;padding-top:1em;padding-bottom:1em;">
  <code class="language-http" translate="No">https://analytics.api.brightcove.com/v1/data?accounts={account_id(s)}&amp;dimensions={dimensions}</code></pre>
    </dd>
    <dt>Rapport de mission</dt>
    <dd>Données d'engagement détaillées disponibles pour les périodes des 32 derniers jours. Voir <a href="#engagement">la rubrique engagement</a> pour plus de détails.</dd>
    <dt>Point de terminaison d'informations vidéo</dt>
    <dd>Une donnée d'analyse spécifique servie avec une latence minimale. Voir <a href="/analytics/getting-started/overview-video-data-endpoint.html">Point de terminaison de données vidéo</a> pour plus d'informations.</dd>
  </dl>

  <p><a href="/analytics/getting-started/analytics-api-overview-dimensions-fields-and-parameters.html#filterValues">Où les filtres</a> et <a href="/analytics/getting-started/analytics-api-overview-dimensions-fields-and-parameters.html#dateRanges">plages de dates</a> peut être appliqué aux rapports. Les demandes de rapport peuvent avoir des paramètres supplémentaires détaillés dans <a href="/analytics/getting-started/analytics-api-overview-dimensions-fields-and-parameters.html">ce document</a>.</p>
  </section>

  <section class="bcls-section">
  <h2 id="metrics">Dimensions et champs</h2>

  <p>Des informations détaillées sur les dimensions et les champs se trouvent désormais dans un document distinct: <a href="/analytics/getting-started/analytics-api-overview-dimensions-fields-and-parameters.html">Présentation des dimensions, des champs et des paramètres</a>.</p>
  </section>

  <section class="bcls-section">
  <h2 id="params">Paramètres</h2>

  <p>Des informations détaillées sur les paramètres se trouvent désormais dans un document séparé: <a href="/analytics/getting-started/analytics-api-overview-dimensions-fields-and-parameters.html">Présentation des dimensions, des champs et des paramètres</a>.</p>
  </section>

  <section class="bcls-section">
  <h2 id="engagement">Rapports de mission</h2>

  <p>Des rapports d'engagement détaillés indiquant les vues pour chaque 100e partie de vidéos (ou les moyennes de toutes les vidéos d'un compte ou d'un lecteur) sont disponibles pour les périodes au cours des 32 derniers jours. (Les demandes de plages de dates en dehors des 32 derniers jours renverront une erreur.)</p>

  <aside class="bcls-aside bcls-aside--warning">
  <p>Il existe plusieurs limitations sur les demandes aux points de terminaison d'engagement:</p>

  <ul>
    <li>Les rapports ne sont disponibles que pour un seul compte, lecteur ou vidéo</li>
    <li><code translate="No">where</code> les filtres ne sont pas pris en charge</li>
    <li>Les seuls paramètres pris en charge sont <code translate="No">from</code> et <code translate="No">to</code></li>
    <li>Si vous fournissez <code translate="No">from</code> et <code translate="No">to</code> valeurs au format date (MM-JJ-AAAA), le rapport reflétera les valeurs de la journée entière</li>
    <li>Si vous voulez des données d'engagement horaire, le <code translate="No">from</code> et <code translate="No">to</code> les valeurs doivent être indiquées en millisecondes d'époque, les valeurs comprises dans les heures pour lesquelles vous souhaitez générer un rapport</li>
  </ul>
  </aside>

  <h3>Engagement de compte</h3>

  <p>Pour obtenir des valeurs moyennes d'engagement sur les vidéos visionnées, utilisez le point de terminaison:</p>

  <pre class="line-numbers" style="white-space:pre-wrap;padding-top:1em;padding-bottom:1em;">
  <code class="language-http" translate="No">
      https://analytics.api.brightcove.com/v1/engagement/accounts/<em>:account_id</em>
  </code></pre>

  <h3>Engagement des Lecteurs</h3>

  <p>Pour obtenir les valeurs moyennes de toutes les vidéos visionnées dans un lecteur, utilisez le point de terminaison:</p>

  <pre class="line-numbers" style="white-space:pre-wrap;padding-top:1em;padding-bottom:1em;">
  <code class="language-http" translate="No">
      https://analytics.api.brightcove.com/v1/engagement/accounts/<em>:account_id</em>/players/<em>:player_id</em>
  </code></pre>

  <h3>Engagement vidéo</h3>

  <p>Pour obtenir des données d'engagement pour une vidéo spécifique, utilisez le point de terminaison:</p>

  <pre class="line-numbers" style="white-space:pre-wrap;padding-top:1em;padding-bottom:1em;">
  <code class="language-http" translate="No">
      https://analytics.api.brightcove.com/v1/engagement/accounts/<em>:account_id</em>/videos/<em>:video_id</em>
  </code></pre>
  </section>

  <section class="bcls-section">
  <h2 id="live_analytics">Analyse en direct</h2>

  <p>Les Analytics API fournit deux points de terminaison pour récupérer des analyses pour les flux Brightcove Live, soit par série temporelle, soit par événement. Voir le <a href="/analytics/references/reference.html#tag/Live-Analytics" translate="No">Référence de l'Analytics API</a> pour les détails.</p>
  </section>
  </article>