---
title: 'Dépôts de joueurs'
description: 'Dans cette rubrique, vous apprendrez comment l'API de gestion des lecteurs utilise l'API du système de livraison pour stocker et gérer les informations sur les lecteurs Brightcove.'
parent: Guides 
grandparent: Player Management API
---
 <h1>{{ page.title }}</h1>
<article class="bcls-article">
  <summary>{{ page.description }}</summary>
  <section id="Overview" class="bcls-section">
    <h2>Aperçu</h2>
    
    <p>Afin de publier des lecteurs sur un CDN, l'API de gestion des lecteurs utilise le <a href="/delivery-system/references/reference.html">API du système de livraison</a>. L'API du système de livraison vous permet de créer un référentiel git, dont le contenu est hébergé sur <strong>joueurs.brightcove.net</strong>. Lorsqu'un joueur est créé, Brightcove crée un référentiel dans les coulisses. Chaque fois que le lecteur est republié, que ce soit directement demandé par un éditeur ou lorsqu'une mise à jour du lecteur Brightcove est publiée, il y a un commit correspondant et un push vers ce référentiel.</p>
    
    <p>Les référentiels Git, entre autres, fournissent un historique des modifications au fil du temps. Lors du débogage d'un lecteur, il peut parfois être très utile d'obtenir une copie de ce référentiel afin de pouvoir examiner vous-même l'historique des modifications. Tout d'abord, vous apprendrez à récupérer des informations générales sur votre lecteur, en utilisant l'outil de ligne de commande curl et/ou le plugin Chrome Postman. Vous apprendrez ensuite à voir l'historique des joueurs pour la création et la publication.</p>
    </section>
    
    <section id="playerinfo" class="bcls-section">
    <h2>Informations sur le joueur</h2>
    
    <p>Ceux qui sont à l'aise avec la ligne de commande voudront probablement utiliser curl pour obtenir des informations sur les joueurs, tandis que ceux qui sont plus à l'aise avec une interface graphique choisiront l'option Postman.</p>
    
    <h3>Utiliser curl</h3>
    
    <p>Si vous n'êtes pas familiarisé avec curl et la définition de variables d'environnement, lisez les deux premières sections du <a href="/player-management/getting-started/step-step-player-management.html">Pas à pas: Gestion des joueurs</a>. Assurez-vous que les variables d'environnement suivantes sont définies :</p>
    
    <ul>
      <li>E-MAIL</li>
      <li>IDENTIFIANT DE COMPTE</li>
      <li>PLAYER_ID</li>
    </ul>
    
    <p>Vous pouvez ensuite utiliser l'instruction curl suivante pour obtenir des informations sur votre lecteur.</p>
    
    <pre class="line-numbers">
      <code class="language-bash" translate="No">curl \
        --header "Content-Type: application/json" \
        --user $EMAIL \
        --request GET \
        https://players.api.brightcove.com/v2/accounts/{account_id}/players/{player_id}/embeds/default</code></pre>
    <!-- <p><code data-gist-id="3bfdd5e78407641f158f" data-gist-hide-footer="true" data-gist-line="1-4"></code></p> -->
    
    <aside class="bcls-aside bcls-aside--information">Si vous travaillez avec une intégration spécifique, modifiez la fin de l'URL de <strong>défaut</strong> à cet ID d'intégration.</aside>
    
    <p>L'API renvoie une réponse semblable à la suivante :</p>
    
    <pre class="line-numbers">
      <code class="language-json" translate="No">{
        "branches": {
          "master": {
            "video_cloud": true,
            "updated_at": "2015-02-23T18:36:39.323Z"
          },
          "preview": {
            "video_cloud": true,
            "updated_at": "2015-02-23T18:36:39.323Z"
          }
        },
        "publish_request": {
          "comment": "Player publish request",
          "author": "mboles@brightcove.com",
          "status": "COMPLETE",
          "requested_at": "2015-02-26T16:29:33.207Z",
          "queue_msg_id": "33533986-10d3-4585-8dcd-7ea52f3d2879",
          "errorCode": null,
          "errorMessage": null,
          "buildLog": "http://players.brightcove.net/1507807800001/0d92f482-49d9-44e6-ba1d-e2360dab838a_default/logs/33533986-10d3-4585-8dcd-7ea52f3d2879.log",
          "retries": 0,
          "elapsed_time": 12
        },
        "name": "MySamplePlayer",
        "id": "default",
        "url": "http://players.brightcove.net/1507807800001/0d92f482-49d9-44e6-ba1d-e2360dab838a_default/index.html",
        "embed_code": "&lt;iframe src='//players.brightcove.net/1507807800001/0d92f482-49d9-44e6-ba1d-e2360dab838a_default/index.html' allowfullscreen webkitallowfullscreen mozallowfullscreen&gt;&lt;/iframe&gt;",
        "embed_in_page": "http://players.brightcove.net/1507807800001/0d92f482-49d9-44e6-ba1d-e2360dab838a_default/in_page.embed",
        "repository_url": "https://repos.api.brightcove.com/v1/accounts/1507807800001/repos/0d92f482-49d9-44e6-ba1d-e2360dab838a_default",
        "preview_url": "http://preview-players.brightcove.net/v1/accounts/1507807800001/players/0d92f482-49d9-44e6-ba1d-e2360dab838a/master/embeds/default/preview/index.html",
        "preview_embed_code": "&lt;iframe src='//preview-players.brightcove.net/v1/accounts/1507807800001/players/0d92f482-49d9-44e6-ba1d-e2360dab838a/master/embeds/default/preview/index.html' allowfullscreen webkitallowfullscreen mozallowfullscreen&gt;&lt;/iframe&gt;"
      }</code></pre>
    <!-- <p><code data-gist-id="3bfdd5e78407641f158f" data-gist-hide-footer="true" data-gist-line="11-42"></code></p> -->
    
    <h3>Utiliser le facteur</h3>
    
    <p>Postman fournit une interface utilisateur plus conviviale pour interagir avec l'API. Si vous n'êtes pas familier avec Postman, lisez le <a href="/general/use-postman-api-requests.html">Utiliser Postman pour les requêtes HTTP</a> doc pour une compréhension de base. Vous ne créez pas de variables d'environnement lorsque vous utilisez Postman. Au lieu de cela, vous créez l'emplacement de l'URL avec les valeurs appropriées dans l'URL. Par exemple, ce qui suit montre une URL appropriée à utiliser dans Postman, contenant le compte et l'ID du joueur.</p>
    
    <pre class="line-numbers">
      <code class="language-http" translate="No">https://players.api.brightcove.com/v2/accounts/1507807800001/players/6aac508a-741e-41a2-bc7a-5805644cf089/embeds/default</code></pre>
    
    <p>Pour utiliser Postman, procédez comme suit :</p>
    
    <ol>
      <li>Entrez l'URL en haut du formulaire.</li>
      <li>Définissez la méthode HTTP sur <strong>AVOIR</strong>.</li>
      <li>Créer un en-tête en utilisant <strong>Type de contenu</strong> et la valeur correspondante <strong>application/json</strong>.</li>
      <li>Clique le <strong>Envoyer</strong> bouton.</li>
      <li>Entrez vos informations d'identification Studio lorsque vous y êtes invité.</li>
    </ol>
    
    <p>La réponse sera alors renvoyée. Pour faciliter la visualisation, assurez-vous de cliquer sur le <strong>Joli</strong> et <strong>JSON</strong> boutons juste au-dessus de la réponse.</p>
    
    <figure class="bcls-figure"><img class="bcls-image" alt="Postman Example" src="//learning-services-media.brightcove.com/doc-assets/video-cloud-apis/player-management-api/guides/player-repositories/player-repositories-postman.png" />
    <figcaption class="bcls-caption--image">Exemple de facteur</figcaption>
    </figure>
    
    </section>
    
    <section id="playerhistory" class="bcls-section">
    <h2>Historique du joueur</h2>
    
    <p>Dans cette section, vous utiliserez les commandes git. Pour un très bref tutoriel sur git, voir le <a href="/delivery-system/delivery-system-api-git-overview.html">Présentation de Git</a> document.</p>
    
    <aside class="bcls-aside bcls-aside--warning">Les référentiels de joueurs doivent être traités comme <strong>LECTURE SEULEMENT</strong>. Le contenu de ces référentiels est entièrement géré par l'API Player Management. Les ajouts et modifications personnalisés directement dans le référentiel ne doivent jamais être effectués. De tels changements seront supprimés chaque fois que les joueurs sont republiés ou que des mises à niveau internes sont effectuées, ce qui peut se produire à tout moment. Si vous devez ajouter des fichiers pour les légendes, les polices ou les plugins, vous devez créer un nouveau référentiel pour eux.</aside>
    
    <p>Vous allez d'abord cloner un dépôt de joueur. Un répertoire sera créé au nom de l'ID du joueur, dans le répertoire où vous émettez le <code translate="No">git clone</code> commander.</p>
    
    <ol class="bcls-tasklist">
      <li>Ouvrez une invite Terminal/Commande et accédez à un emplacement dans lequel vous souhaitez créer le dossier.</li>
      <li>Ensuite, créez une URL pour le dépôt du joueur sous la forme :
      <pre class="line-numbers">
      <code class="language-http" translate="No">https://repos.api.brightcove.com/v1/accounts/<span class="bcls-input">ACCOUNT_ID</span>/repos/<span class="bcls-input">PLAYER_ID</span>_default</code></pre>
    
      <p>Exemple:</p>
    
      <pre class="line-numbers">
      <code class="language-http" translate="No">https://repos.api.brightcove.com/v1/accounts/1507807800001/repos/0d92f482-49d9-44e6-ba1d-e2360dab838a_default</code></pre>
      </li>
      <li>À l'invite de commande, créez ou déplacez-vous vers un répertoire dans lequel vous souhaitez cloner le référentiel du lecteur.</li>
      <li>Une fois que vous êtes dans ce répertoire, entrez la commande git suivante pour cloner le référentiel du joueur, en remplaçant votre propre compte et identifiants de joueur :
      <pre class="line-numbers">
      git clone https://repos.api.brightcove.com/v1/accounts/1507807800001/repos/0d92f482-49d9-44e6-ba1d-e2360dab838a_default<code class="language-git"></code></pre>
      et appuyez sur retour/Entrée.</li>
      <li>Dans la réponse, vous devriez voir quelque chose comme ce qui suit :
      <pre class="line-numbers">
      <code class="language-git">Clonage dans '0d92f482-49d9-44e6-ba1d-e2360dab838a_default'... distant : Compter des objets : 39, fait. à distance: Compression d'objets : 100% (31/31), fait. à distance: Total 39 (delta 13), réutilisé 0 (delta 0) Déballage des objets : 100% (39/39), terminé. Vérification de la connectivité... terminé.</code></pre>
      </li>
      <li>Sur la ligne de commande (ou dans votre gestionnaire de fichiers), localisez le répertoire du lecteur cloné pour vous assurer qu'il a été cloné à l'emplacement souhaité ; il sera nommé ainsi :
      <pre class="line-numbers">
      <code class="language-bash" translate="No"><span class="bcls-highlight">{player_id}</span>_default</code></pre>
      </li>
      <li>Sur la ligne de commande, remplacez les répertoires par le répertoire du référentiel du lecteur cloné que vous avez localisé à l'étape précédente.</li>
      <li>Saisissez la commande :
      <pre class="line-numbers">
      git log<code class="language-git"></code></pre>
      et appuyez sur retour/Entrée.</li>
      <li>Vous devriez voir une réponse semblable à la suivante :
      <pre class="line-numbers">
      <code class="language-git">commit b4ed1c2e3d429cc41b704fd44bebdc31f661a95c Auteur : bc86ece6-b3dd-4d78-a67d-93b503dc1c2e &lt;mboles@brightcove.com&gt; Date : Thu Feb 26 16:29:43 2015 +0000 Player publish request commit 6c854213b2b2597225c36212dc8be545fcf2c104 Auteur : bc86ece6-b3dd-4d78-a67d-93b503dc1c2e &lt;mboles@brightcove.com&gt; Date : Thu Feb 26 16:28:13 2015 +0000 Player publier la demande commit 7f78d49cb678259351f83a94e655f88607de077f Auteur : 6b112bd1-987c-41a2-84ac-f9dd8302b567 &lt;mboles@brightcove.com&gt; Date : Lun 23 fév 18:36:49 2015 +0000 Joueur créé</code></pre>
      </li>
      <li>Les identifiants de validation seront utilisés pour obtenir des informations plus détaillées. Voir Informations de validation pour plus de détails.</li>
    </ol>
    </section>
    
    <section id="commitinformation" class="bcls-section">
    <h2>Informations de validation</h2>
    
    <p>Ce qui suit peut être utilisé pour collecter différentes informations sur les commits des joueurs. Bien sûr, vous devrez remplacer vos identifiants de validation particuliers, qui peuvent être obtenus à partir de la réponse de l'historique du joueur, comme indiqué dans la section précédente.</p>
    
    <ul>
      <li>Afficher les spécificités d'un seul commit (demande de publication)
      <pre class="line-numbers">
      git show e6e14ecda8e7790bf7d91e5e794507e776eef770<code class="language-git"></code></pre>
      </li>
      <li>Afficher les différences entre les commits (requêtes de publication)
      <pre class="line-numbers">
      git diff e6e14ecda8e7790bf7d91e5e794507e776eef770 64a28431b3727d798510343caacb263c2829572d<code class="language-git"></code></pre>
      </li>
      <li>Afficher les fichiers modifiés dans chaque commit
      <pre class="line-numbers">
      git log --name-status<code class="language-git"></code></pre>
      </li>
    </ul>
    </section>
    </article>
   