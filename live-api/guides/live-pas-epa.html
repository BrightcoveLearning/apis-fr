---
title: Utilisation de PAS/EPA avec Live
description: Cette rubrique couvre l'utilisation du service d'autorisation de lecture (PAS) ou du service de gestion des droits de lecture (EPA) avec des flux en direct
parent: Guides 
grandparent: Live API
layout: staging
---
 <h1>{{ page.title }}</h1>
<article class="bcls-article" id="bcls_article">
  <summary>{{ page.description }}</summary>
  <aside class="bcls-aside bcls-aside--information"><a href="https://apis.support.brightcove.com/playback-authorization/index.html">PAS</a> et <a href="https://apis.support.brightcove.com/playback-rights/index.html">EPA</a> sont actuellement en version à disponibilité limitée. Si vous souhaitez utiliser ces services, contactez votre gestionnaire de compte.</aside>
  <section class="bcls-section">
    <h2 id="Introduction">introduction</h2>
    <p>Le PAS ou l'EPA peut être activé pour une tâche Live afin d'étendre les protections fournies par DRM. PAS fournit un ensemble limité de restrictions: limiter la lecture à un agent utilisateur particulier, ou limiter le nombre de changements d'adresse IP ou d'utilisations totales. Dans le cas Live, cela permet également à un client de remplacer le DRM CRT pour cet utilisateur. Ces restrictions sont directement précisées dans l'autorisation de lecture <a href="https://general.support.brightcove.com/developer/create-jwt-stage.html#Claims_for_Playback_Authorization">JWT</a>.</p>
    <p>L'EPA fournit un ensemble de restrictions beaucoup plus complet. Un ensemble de ces restrictions est configuré via l'API de gestion des droits de lecture et est référencé à l'aide d'un droit de lecture. <code translate="No">id</code>. Cette <code translate="No">id</code> peut être associé à la vidéo ( à l'aide du <code translate="No">playback_rights_id</code> attribut illustré ci-dessous) ou inclus dans le <a href="https://general.support.brightcove.com/developer/create-jwt-stage.html#Claims_for_Playback_Rights">JWT</a>. Le deuxième ensemble implique des restrictions au niveau de l'utilisateur telles que les limites de simultanéité et le nombre d'appareils. Ceux-ci sont directement spécifiés dans les revendications JWT (qui doivent également inclure un identifiant utilisateur [v<code translate="No">uid</code> Réclamer]).</p>
    <p>Pour l'un ou l'autre mode, la demande de travail doit inclure un <code translate="No">videocloud.video</code> attribut pour qu'une vidéo Video Cloud soit créée et liée à la tâche en direct. Les <code translate="No">playback_rights_id</code> L'attribut peut être mis à jour sur la vidéo Video Cloud pour modifier les restrictions de lecture via le <a href="https://apis.support.brightcove.com/cms/references/reference.html#operation/UpdateVideo">CMS API</a>.</p>
    <p>Vous devrez également <a href="https://general.support.brightcove.com/developer/create-jwt-stage.html">créer un JWT</a> avec des allégations appropriées au PAS ou à l'EPA, selon ce que vous utilisez. Le JWT devra être inclus dans toutes les demandes de serveur de licences. Si vous implémentez votre propre lecteur, vous devrez passer cette valeur soit dans un <code translate="No">BCOV-Auth</code> en-tête ou <code translate="No">bcov_auth</code> paramètre de requête (en plus du jeton DRM).</p>
  </section>
  <section class="bcls-section">
    <h2 id="Create_Live_job_with_EPA_PAS">Créer un travail en direct avec EPA/PAS</h2>
    <p>Les nouveaux champs suivants sont utilisés pour ajouter EPA et/ou PAS à une tâche Live:</p>
    <h3>De nouveaux champs pour le <code translate="No">drm</code> objet:</h3>
    <dl>
      <dt><code translate="No">require_playback_token</code>(booléen)</dt>
      <dd>Active le PAS. L'autorisation de lecture JWT sera requise lors de la demande de licence.</dd>
      <dt><code translate="No">check_playback_rights</code>(booléen)</dt>
      <dd>Active l'EPA. L'autorisation de lecture JWT sera requise lors de la demande de licence. Utilise l'identifiant des droits de lecture associé à la vidéo ou au JWT pour appliquer les restrictions.</dd>
    </dl>
    <h3>Nouveau terrain pour le <code translate="No">videocloud.video</code> objet:</h3>
    <aside class="bcls-aside bcls-aside--information">Notez que ce champ doit être ajouté à la vidéo à l'aide de CMS API <em>après</em> vous créez le travail en direct, car il ne peut pas être ajouté lors de la création de la vidéo.</aside>
    <dl>
      <dt><code translate="No">playback_rights_id</code>(chaîne de caractères)</dt>
      <dd>Les associés ont spécifié les droits de lecture EPA avec la vidéo.</dd>
    </dl>
  </section>
  <section class="bcls-section">
    <h2 id="Sample_request_response">Exemple de demande et de réponse</h2>
    <p>Vous trouverez ci-dessous un exemple de corps de demande d'API Live pour la création d'une tâche Live avec EPA. Remarque Il existe également une demande d'CMS API pour mettre à jour la vidéo créée pour le travail en direct avec le <code translate="No">playback_rights_id</code>. (Ce champ ne peut être ajouté qu'avec un <strong>mettre à jour la vidéo</strong> demande, et doit donc être ajouté après que la demande Live API a créé la vidéo.)</p>
    <h3>Exemple de corps de requête</h3>
<pre class="line-numbers"><code class="language-json" translate="No">{
  "live_stream": true,
  "region": "us-west-2",
  "reconnect_time": 300,
  "ad_insertion": false,
  "static": false,
  "drm": {
    "modes":["all"],
    <span class="bcls-highlignt">"require_playback_token": true,</span>
    <span class="bcls-highlignt"></span>"check_playback_rights": true</code>}, "live_dvr_sliding_window_duration": 300, "videocloud": { "live_to_vod": true, "video": { "name": "Test EPA", "description": "", "long_description": "", "tags": [], "reference_id": "", "link": { "url": "", "text": "" } , "Les champs personnalisés": {} } }, "les sorties": [{ "label": "hls720p", "live_stream": true, "height": 720, "video_bitrate": 2000, "segment_seconds": 6, "keyframe_interval": 60 } , { "label": "hls480p", "live_stream": true, "height": 480, "video_bitrate": 1000, "segment_seconds": 6, "keyframe_interval": 60 } ] } </code></pre>
    <details>
      <summary><h2>Exemple de réponse</h2></summary>
      <p>La ligne en surbrillance contient la vidéo <code translate="No">id</code> que vous devez ajouter le <code translate="No">playback_rights_id</code></p>
<pre class="line-numbers"><code class="language-json" translate="No">{
  "id": "f47487cf81f84764b280fbfaefed524a",
  "outputs": [
      {
          "id": "0-f47487cf81f84764b280fbfaefed524a",
          "label": "hls720p"
      },
      {
          "id": "1-f47487cf81f84764b280fbfaefed524a",
          "label": "hls480p"
      },
      {
          "id": "2-f47487cf81f84764b280fbfaefed524a",
          "playlist_type": "defaultS3",
          "type": "playlist",
          "drm": {
              "token": "eyJh...axy8",
              "modes": [
                  {
                      "type": "fairplay",
                      "key_system": "com.apple.fps.1_0",
                      "license_url": "https://license-proxy-qa.alive.us-west-2.qa.deploys.brightcove.com/lic/fp?token=eyJh...axy8",
                      "certificate_url": "https://license-proxy-qa.alive.us-west-2.qa.deploys.brightcove.com/cert/fp?token=eyJh...axy8",
                      "filename": "playlist_fp.m3u8",
                      "dvr_filename": "playlist_fp_dvr.m3u8",
                      "playback_url": "https://playback-qa.a-live.io/f47487cf81f84764b280fbfaefed524a/us-west-2/NA/playlist_fp.m3u8",
                      "playback_url_dvr": "https://playback-qa.a-live.io/f47487cf81f84764b280fbfaefed524a/us-west-2/NA/playlist_fp_dvr.m3u8",
                      "playback_added_cdns": []
                  },
                  {
                      "type": "widevine",
                      "key_system": "com.widevine.alpha",
                      "license_url": "https://license-proxy-qa.alive.us-west-2.qa.deploys.brightcove.com/lic/wv?token=eyJh...axy8",
                      "filename": "playlist_wv.m3u8",
                      "dvr_filename": "playlist_wv_dvr.m3u8",
                      "playback_url": "https://playback-qa.a-live.io/f47487cf81f84764b280fbfaefed524a/us-west-2/NA/playlist_wv.m3u8",
                      "playback_url_dvr": "https://playback-qa.a-live.io/f47487cf81f84764b280fbfaefed524a/us-west-2/NA/playlist_wv_dvr.m3u8",
                      "playback_added_cdns": []
                  },
                  {
                      "type": "playready",
                      "key_system": "com.microsoft.playready",
                      "license_url": "https://license-proxy-qa.alive.us-west-2.qa.deploys.brightcove.com/lic/pr?token=eyJh...axy8",
                      "filename": "playlist.mpd",
                      "dvr_filename": "playlist_dvr.mpd",
                      "playback_url": "https://playback-qa.a-live.io/f47487cf81f84764b280fbfaefed524a/us-west-2/NA/playlist.mpd",
                      "playback_url_dvr": "https://playback-qa.a-live.io/f47487cf81f84764b280fbfaefed524a/us-west-2/NA/playlist_dvr.mpd",
                      "playback_added_cdns": []
                  }
              ],
              "token_expires_in": 43200,
              "require_playback_token": true,
              "check_playback_rights": true
          }
      }
  ],
  "stream_url": "rtmp://ep8-usw2.a-live.io:1935/f47487cf81f84764b280fbfaefed524a",
  "stream_name": "alive",
  "static": false,
  "event_length": 93600,
  <span class="bcls-highlignt">"job_videocloud_asset_id": "70701312966202",</span>
  "encryption": {},
  "drm_enabled": true,
  "drm": {
    "token": "eyJh...axy8",
    "modes": [
      {
        "type": "fairplay",
        "key_system": "com.apple.fps.1_0",
        "license_url": "https://license-proxy-qa.alive.us-west-2.qa.deploys.brightcove.com/lic/fp?token=eyJhb...axy8",
        "certificate_url": "https://license-proxy-qa.alive.us-west-2.qa.deploys.brightcove.com/cert/fp?token=eyJhb...axy8",
        "filename": "playlist_fp.m3u8",
        "dvr_filename": "playlist_fp_dvr.m3u8",
        "playback_url": "https://playback-qa.a-live.io/f47487cf81f84764b280fbfaefed524a/us-west-2/NA/playlist_fp.m3u8",
        "playback_url_dvr": "https://playback-qa.a-live.io/f47487cf81f84764b280fbfaefed524a/us-west-2/NA/playlist_fp_dvr.m3u8",
        "playback_added_cdns": []
      },
      {
        "type": "widevine",
        "key_system": "com.widevine.alpha",
        "license_url": "https://license-proxy-qa.alive.us-west-2.qa.deploys.brightcove.com/lic/wv?token=eyJhb...axy8",
        "filename": "playlist_wv.m3u8",
        "dvr_filename": "playlist_wv_dvr.m3u8",
        "playback_url": "https://playback-qa.a-live.io/f47487cf81f84764b280fbfaefed524a/us-west-2/NA/playlist_wv.m3u8",
        "playback_url_dvr": "https://playback-qa.a-live.io/f47487cf81f84764b280fbfaefed524a/us-west-2/NA/playlist_wv_dvr.m3u8",
        "playback_added_cdns": []
      },
      {
        "type": "playready",
        "key_system": "com.microsoft.playready",
        "license_url": "https://license-proxy-qa.alive.us-west-2.qa.deploys.brightcove.com/lic/pr?token=eyJh...axy8",
        "filename": "playlist.mpd",
        "dvr_filename": "playlist_dvr.mpd",
        "playback_url": "https://playback-qa.a-live.io/f47487cf81f84764b280fbfaefed524a/us-west-2/NA/playlist.mpd",
        "playback_url_dvr": "https://playback-qa.a-live.io/f47487cf81f84764b280fbfaefed524a/us-west-2/NA/playlist_dvr.mpd",
        "playback_added_cdns": []
      }
    ],
    "token_expires_in": 43200,
    "require_playback_token": true,
    "check_playback_rights": true
  }
}</code></pre>
    </details>
    <h3>Demande d'CMS API</h3>
    <p>Pour ajouter l'identifiant des droits de lecture à la vidéo, envoyez un <a href="https://apis.support.brightcove.com/cms/references/reference.html#operation/UpdateVideo">Mettre à jour la vidéo</a> requête à l'CMS API avec le corps de requête suivant:</p>
<pre class="line-numbers"><code class="language-json" translate="No">{
  "playback_rights_id": "<span class="bcls-input">your playback_rights_id</span>"
}</code></pre>
  </section>
  <section class="bcls-section">
    <h2 id="player_implementation">Implémentation du lecteur</h2>
    <p>Si vous utilisez le lecteur Web Brightcove ou l'un des SDK de lecteur natif Brightcove pour diffuser le flux en direct, la mise en œuvre pour PAS ou EPA est la même que pour la VOD. Voir l'un des éléments suivants:</p>
    <h3>PAS</h3>
    <ul>
      <li><a href="https://apis.support.brightcove.com/playback-authorization/guides/using-pas-with-bcp.html">Utilisation de DRM d'autorisation de lecture avec Brightcove Player</a></li>
      <li><a href="https://apis.support.brightcove.com/playback-authorization/guides/using-pas-with-sdks.html">Utilisation de DRM d'autorisation de lecture avec les SDK natifs</a></li>
    </ul>
    <h3>EPA</h3>
    <ul>
      <li><a href="https://apis.support.brightcove.com/playback-rights/guides/using-epa-with-bcp.html">Utilisation des droits de lecture avec Brightcove Player</a></li>
      <li><a href="https://apis.support.brightcove.com/playback-rights/guides/using-epa-with-sdks.html">Utilisation des droits de lecture avec les SDK natifs</a></li>
    </ul>
  </section>
  <section class="bcls-section">
    <h2 id="Related_topics">Rubriques connexes</h2>
    <ul>
      <li>PAS<a href="https://apis.support.brightcove.com/playback-authorization/index.html"></a></li>
      <li>EPA<a href="https://apis.support.brightcove.com/playback-rights/index.html"></a></li>
      <li><a href="https://general.support.brightcove.com/developer/create-jwt-stage.html#Claims_for_Playback_Authorization">Création de jetons Web JSON (JWT)</a></li>
      <li><a href="https://apis.support.brightcove.com/playback-authorization/guides/using-pas-with-bcp.html">Utilisation de DRM d'autorisation de lecture avec Brightcove Player</a></li>
      <li><a href="https://apis.support.brightcove.com/playback-authorization/guides/using-pas-with-sdks.html">Utilisation de DRM d'autorisation de lecture avec les SDK natifs</a></li>
      <li>a href="https://apis.support.brightcove.com/playback-rights/guides/using-epa-with-bcp.html"&gt;Utilisation des droits de lecture avec Brightcove Player</a></li>
      <li><a href="https://apis.support.brightcove.com/playback-rights/guides/using-epa-with-sdks.html">Utilisation des droits de lecture avec les SDK natifs</a></li>
    </ul>
  </section>
</article>

<script>
  var h1 = document.querySelector('h1'), path = location.pathname, new_location = 'https://live.support.brightcove.com/live-api/guides/live-playback-restrictions.html', message = '<h3>Cette page a été déplacée vers <a href="' + new_location + '">' + new_location + '</a>. Veuillez mettre à jour votre signet ! Vous serez redirigé dans 5 secondes.<h3>'; console.log('new_location', new_location); h1.insertAdjacentHTML('afterend', message); réorienter(); fonction redirection() { var t = window.setTimeout(go_to_new_location, 5000); } fonction go_to_new_location() { window.location.href = new_location; }
</script>